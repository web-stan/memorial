{"version":3,"sources":["webpack:///./src/views/dashboard/Index.vue?acdb","webpack:///./src/assets/img/icon/dashboard-placeholder.svg","webpack:///./src/components/Dropdown.vue?a123","webpack:///./src/assets/img/icon/desktop-blue.svg","webpack:///./src/assets/img/icon/relative-placeholder.svg","webpack:///./src/assets/img/icon/facebook-messenger-1.svg","webpack:///./src/views/dashboard/partials/Footer.vue?85e6","webpack:///./src/assets/img/icon/envelope-blue.svg","webpack:///./src/views/memorials/edit/partials/Header.vue?4780","webpack:///./src/views/memorials/edit/partials/Header.vue?3c05","webpack:///./src/components/RelativeList.vue?8451","webpack:///src/components/RelativeList.vue","webpack:///./src/components/RelativeList.vue?381b","webpack:///./src/components/RelativeList.vue","webpack:///./src/components/Dropdown.vue?b1f4","webpack:///src/components/Dropdown.vue","webpack:///./src/components/Dropdown.vue?ee19","webpack:///./src/components/Dropdown.vue","webpack:///src/views/memorials/edit/partials/Header.vue","webpack:///./src/views/memorials/edit/partials/Header.vue?2e01","webpack:///./src/views/memorials/edit/partials/Header.vue","webpack:///./src/assets/img/icon/footer-flag.svg","webpack:///./src/assets/img/icon/mobile-blue.svg","webpack:///./src/views/dashboard/Index.vue?9cc1","webpack:///./src/views/dashboard/partials/Footer.vue?fa80","webpack:///src/views/dashboard/partials/Footer.vue","webpack:///./src/views/dashboard/partials/Footer.vue?de84","webpack:///./src/views/dashboard/partials/Footer.vue","webpack:///src/views/dashboard/Index.vue","webpack:///./src/views/dashboard/Index.vue?0ca8","webpack:///./src/views/dashboard/Index.vue","webpack:///./src/components/RelativeList.vue?2140","webpack:///./src/assets/img/icon/form-paper.svg","webpack:///./src/assets/img/icon/facebook.svg","webpack:///./src/views/dashboard/Story.vue?877d","webpack:///src/views/dashboard/Story.vue","webpack:///./src/views/dashboard/Story.vue?d739","webpack:///./src/views/dashboard/Story.vue","webpack:///./src/assets/img/icon/whatsapp.svg","webpack:///./src/views/dashboard/Story.vue?5819"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","isMobile","isMenuShow","expression","class","concat","classList","staticClass","on","$event","preventDefault","isShowMemorialMenu","memorial","profilePhoto","url","attrs","_v","_s","_f","birthDate","deathDate","memorials","_l","memorialItem","key","id","selectMemorial","_e","stopPropagation","createMemorial","$ml","get","isShowLinkMenu","$route","meta","type","openMemorial","toggleMenu","countStories","user","isShowAvatarMenu","logout","isEditing","setEditingBlock","slot","platform","platforms","selectPlatform","langChanged","selectedLanguage","label","languages","selectLanguage","paid","slug","goTo","openPreview","public","publishMemorial","openPage","saveText","form","text","ref","link","copyLink","fbShareUrl","shareToMessenger","encodeURIComponent","shareText","lang","current","changeLang","staticRenderFns","relativeUsers","relative","status","length","count","props","relatives","Array","Object","default","String","computed","data","mounted","relations","map","relation","relationToMemorialPerson","splice","component","isOpen","_t","domProps","item","selectItem","options","tag","src","items","defaultText","methods","renderTextFromOptions","$emit","onClickOutside","components","Button","Dropdown","RelativeList","previewRoute","window","open","routeData","href","hideAvatarMenu","hideLinkMenu","hideMemorialMenu","selectedPlatform","language","$editMemorial","setAttribute","findLanguage","find","event","memorialId","editVersion","$store","dispatch","payload","$router","push","change","document","documentElement","target","innerText","navigator","clipboard","writeText","sortMemorials","innerWidth","getters","watch","with","EventBus","_this","showStoryId","showStoryEditVersion","closeModal","approveStory","$dateUtils","formatDate","createdAt","paymentPlan","params","isTooltipShow","isStoriesExist","stories","$stringUtils","toCamelCase","story","formatStoryDate","owner","showStory","period","openLink","openHelp","Date","getFullYear","periods","closePeriodModal","setPeriod","indexOf","_k","keyCode","close","isStoryFieldExist","showTooltip","openPeriodModal","isStoryVisible","description","setDescription","content","removeMedia","checkIsYouTubeLink","getVideoId","file","contentType","autoplay","controls","sources","previewImgLink","saveAsDraft","save","approve"],"mappings":"kHAAA,W,uBCAAA,EAAOC,QAAU,IAA0B,0C,2DCA3C,W,yECAAD,EAAOC,QAAU,IAA0B,iC,8CCA3CD,EAAOC,QAAU,IAA0B,yC,uBCA3CD,EAAOC,QAAU,IAA0B,yC,kCCA3C,W,qBCAAD,EAAOC,QAAU,IAA0B,kC,yDCA3C,W,kCCAA,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,WAAW,CAAC,CAACC,KAAK,cAAcC,QAAQ,gBAAgBC,MAAOT,EAAIU,UAAYV,EAAIW,WAAYC,WAAW,2BAA2BC,MAAM,CAAC,yBAA0BC,OAAQd,EAAIe,UAAW,CAAC,CAAC,KAAQf,EAAIW,eAAe,CAACP,EAAG,MAAM,CAACY,YAAY,oCAAoC,CAACZ,EAAG,MAAM,CAACY,YAAY,wBAAwB,CAACZ,EAAG,MAAM,CAACY,YAAY,aAAaC,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,iBAAiBnB,EAAIoB,oBAAsBpB,EAAIoB,sBAAsB,CAAEpB,EAAIqB,UAAY,OAASrB,EAAIqB,SAASC,cAAqD,qBAA9BtB,EAAIqB,SAASC,cAAyE,qBAAlCtB,EAAIqB,SAASC,aAAaC,IAAqBnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAMxB,EAAIqB,SAASC,aAAaC,IAAI,IAAM,YAAYnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAA+C,IAAM,YAAYpB,EAAG,MAAM,CAACY,YAAY,oBAAoB,CAACZ,EAAG,MAAM,CAACY,YAAY,QAAQ,CAACZ,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIqB,SAASd,SAASH,EAAG,OAAO,CAACY,YAAY,iBAAiBZ,EAAG,MAAM,CAACY,YAAY,SAAS,CAACZ,EAAG,OAAO,CAACY,YAAY,SAAS,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAI2B,GAAG,UAAP3B,CAAkBA,EAAIqB,SAASO,eAAe5B,EAAIyB,GAAG,KAAKrB,EAAG,OAAO,CAACY,YAAY,aAAa,CAAChB,EAAIyB,GAAG,OAAOzB,EAAIyB,GAAG,KAAKrB,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAI2B,GAAG,UAAP3B,CAAkBA,EAAIqB,SAASQ,mBAAoB7B,EAAsB,mBAAEI,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,gBAAgBC,QAAQ,kBAAkBC,MAAOT,EAAoB,iBAAEY,WAAW,oBAAoB,CAACL,KAAK,cAAcC,QAAQ,gBAAgBC,MAAOT,EAAsB,mBAAEY,WAAW,uBAAuBC,MAAM,CAAC,iCAAkC,CAAC,MAAqC,qBAArBb,EAAI8B,UAAU,MAAsB,CAA8B,qBAArB9B,EAAI8B,UAAU,GAAoB1B,EAAG,MAAM,CAACS,MAAM,CAAC,yBAAyBb,EAAI+B,GAAI/B,EAAa,WAAE,SAASgC,GAAc,OAAO5B,EAAG,MAAM,CAAC6B,IAAID,EAAaE,GAAGrB,MAAM,CAAC,sBAAuB,CAAC,SAAYmB,EAAaE,KAAOlC,EAAIqB,SAASa,KAAKjB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAImC,eAAeH,MAAiB,CAAE,OAASA,EAAaV,cAAyD,qBAAlCU,EAAaV,aAAaC,IAAqBnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAMQ,EAAaV,aAAaC,IAAI,IAAM,YAAYnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAA+C,IAAM,MAAMpB,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAGM,EAAazB,cAAa,GAAGP,EAAIoC,KAAkC,qBAArBpC,EAAI8B,UAAU,GAAoB1B,EAAG,OAAO,CAACY,YAAY,cAAchB,EAAIoC,KAAKhC,EAAG,MAAM,CAACY,YAAY,4CAA4CC,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOmB,kBAAyBrC,EAAIsC,eAAepB,MAAW,CAACd,EAAG,OAAO,CAACY,YAAY,cAAcZ,EAAG,OAAO,CAACY,YAAY,oBAAoB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,8CAA8CxC,EAAIoC,OAAOhC,EAAG,MAAM,CAACY,YAAY,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,iBAAiBnB,EAAIyC,gBAAkBzC,EAAIyC,kBAAkB,CAAE,aAAexC,KAAKyC,OAAOC,KAAKC,KAAMxC,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,oCAAoCpC,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,qCAAqCpC,EAAG,OAAO,CAACY,YAAY,eAAgBhB,EAAkB,eAAEI,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,gBAAgBC,QAAQ,kBAAkBC,MAAOT,EAAgB,aAAEY,WAAW,iBAAiBI,YAAY,8CAA8C,CAACZ,EAAG,MAAM,CAACY,YAAY,uBAAuB,CAACZ,EAAG,MAAM,CAACY,YAAY,qBAAqBC,GAAG,CAAC,MAAQjB,EAAI6C,eAAe,CAAC7C,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,sCAAsCpC,EAAG,cAAc,CAACY,YAAY,qBAAqBQ,MAAM,CAAC,IAAM,MAAM,GAAK,CAACjB,KAAM,oBAAoB,CAACP,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,wCAAwC,KAAKxC,EAAIoC,SAAShC,EAAG,MAAM,CAACS,MAAM,CAAC,yBAA0B,CAAC,cAAeb,EAAIW,aAAaM,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOmB,kBAAkBnB,EAAOC,iBAAwBnB,EAAI8C,WAAW5B,MAAW,CAACd,EAAG,MAAM,CAACS,MAAM,CAAC,YAAa,CAAC,cAAeb,EAAIW,cAAc,CAACP,EAAG,QAAQA,EAAG,YAAYA,EAAG,cAAc,CAACY,YAAY,mBAAmBQ,MAAM,CAAC,IAAM,MAAM,GAAK,CAACjB,KAAM,UAAU,CAACH,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAyB,IAAM,gBAAgBpB,EAAG,MAAM,CAACY,YAAY,uBAAuB,CAACZ,EAAG,cAAc,CAACS,MAAM,CAAC,4BAA4BW,MAAM,CAAC,IAAM,MAAM,GAAK,CAACjB,KAAM,oBAAoB,CAACH,EAAG,OAAO,CAACY,YAAY,mBAAoBhB,EAAI+C,aAAe,EAAG3C,EAAG,MAAM,CAACY,YAAY,mBAAmB,CAACZ,EAAG,OAAO,CAACY,YAAY,gBAAgB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAI+C,mBAAmB/C,EAAIoC,OAAQ,OAASpC,EAAIgD,MAAQ,OAAShD,EAAIgD,KAAK1B,cAAqD,qBAA9BtB,EAAIgD,KAAK1B,aAAaC,IAAqBnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAMxB,EAAIgD,KAAK1B,aAAaC,IAAI,IAAM,UAAUN,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIiD,kBAAoBjD,EAAIiD,qBAAqB7C,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAsD,IAAM,UAAUP,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIiD,kBAAoBjD,EAAIiD,qBAAsBjD,EAAoB,iBAAEI,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,gBAAgBC,QAAQ,kBAAkBC,MAAOT,EAAkB,eAAEY,WAAW,mBAAmBI,YAAY,6CAA6C,CAACZ,EAAG,MAAM,CAACY,YAAY,uBAAuB,CAACZ,EAAG,cAAc,CAACY,YAAY,qBAAqBQ,MAAM,CAAC,IAAM,MAAM,GAAK,CAACjB,KAAM,oBAAoB,CAACP,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,oCAAoC,OAAOpC,EAAG,MAAM,CAACY,YAAY,mCAAmCC,GAAG,CAAC,MAAQjB,EAAIkD,SAAS,CAAC9C,EAAG,OAAO,CAACY,YAAY,mCAAmChB,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,+BAA+B,QAAQ,KAAKxC,EAAIoC,MAAM,IAAI,GAAKpC,EAAIW,WAA2vEX,EAAIoC,KAAnvEhC,EAAG,MAAM,CAACY,YAAY,4CAA4C,CAACZ,EAAG,MAAM,CAACY,YAAY,0BAA0B,CAACZ,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,WAAY,CAAC,YAAexB,EAAImD,WAAY,CAAC,iBAAkBnD,EAAImD,YAAY,MAAQnD,EAAIuC,IAAIC,IAAI,6BAA6BvB,GAAG,CAAC,QAAUjB,EAAIoD,kBAAkB,CAAChD,EAAG,OAAO,CAACS,MAAM,CAAC,OAAQ,YAAa,CAAC,mBAAoBb,EAAImD,WAAa,CAAC,WAAcnD,EAAImD,YAAa3B,MAAM,CAAC,KAAO,aAAa6B,KAAK,gBAAgBjD,EAAG,MAAM,CAACY,YAAY,8BAA8B,CAACZ,EAAG,WAAW,CAACoB,MAAM,CAAC,YAAcxB,EAAIsD,SAAS,MAAQtD,EAAIuD,WAAWtC,GAAG,CAAC,SAAWjB,EAAIwD,mBAAmB,GAAGpD,EAAG,MAAM,CAACY,YAAY,8BAA8B,CAACZ,EAAG,WAAW,CAAC6B,IAAIjC,EAAIyD,YAAYjC,MAAM,CAAC,YAAcxB,EAAI0D,iBAAiBC,MAAM,MAAQ3D,EAAI4D,WAAW3C,GAAG,CAAC,SAAWjB,EAAI6D,iBAAiB,CAACzD,EAAG,OAAO,CAACY,YAAY,wBAAwBQ,MAAM,CAAC,KAAO,kBAAkB6B,KAAK,sBAAsB,GAAGjD,EAAG,MAAM,CAACS,MAAM,CAAC,2BAA4B,CAAC,OAAUb,EAAIqB,SAASyC,QAAQ,CAAC1D,EAAG,OAAO,CAACY,YAAY,kBAAkB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,yCAAyCpC,EAAG,eAAe,CAAC6B,IAAIjC,EAAIqB,SAAS0C,KAAKvC,MAAM,CAAC,UAAY,CAAC,yBAAyBpB,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,aAAc,aAAa,MAAQxB,EAAIuC,IAAIC,IAAI,oCAAoCvB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAIgE,KAAK,wBAAyB,CAACD,KAAM/D,EAAIqB,SAASa,QAAQ,CAAC9B,EAAG,OAAO,CAACY,YAAY,iCAAiCQ,MAAM,CAAC,KAAO,aAAa6B,KAAK,iBAAiB,GAAKrD,EAAIqB,SAASyC,KAAgO9D,EAAIoC,KAA9NhC,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,aAAc,eAAe,MAAQxB,EAAIuC,IAAIC,IAAI,gCAAgCvB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAIgE,KAAK,oBAAqB,CAACD,KAAM/D,EAAIqB,SAASa,UAAmB,GAAG9B,EAAG,MAAM,CAACY,YAAY,wBAAwB,CAACZ,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,cAAe,eAAe,MAAQxB,EAAIuC,IAAIC,IAAI,gCAAgCvB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAIiE,kBAAoBhE,KAAKoB,SAAS6C,OAA6NlE,EAAIoC,KAAzNhC,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,eAAgB,cAAe,CAAC,UAAavB,KAAKoB,WAAapB,KAAKoB,SAASyC,OAAO,MAAQ9D,EAAIuC,IAAIC,IAAI,gCAAgCvB,GAAG,CAAC,QAAUjB,EAAImE,oBAA6B,KAAenE,EAAc,WAAEI,EAAG,MAAM,CAACY,YAAY,gCAAgC,CAACZ,EAAG,MAAM,CAACY,YAAY,gCAAgC,CAACZ,EAAG,OAAO,CAACY,YAAY,SAAS,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,yCAAyCpC,EAAG,MAAM,CAACY,YAAY,sBAAsB,CAAChB,EAAI+B,GAAI/B,EAAa,WAAE,SAASgC,GAAc,OAAO5B,EAAG,MAAM,CAAC6B,IAAID,EAAaE,GAAGrB,MAAM,CAAC,oBAAqB,CAAC,SAAYmB,EAAaE,KAAOlC,EAAIqB,SAASa,KAAKjB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAImC,eAAeH,MAAiB,CAAEA,EAAaE,KAAOlC,EAAIqB,SAASa,GAAI9B,EAAG,OAAO,CAACY,YAAY,sCAAsChB,EAAIoC,KAAM,OAASJ,EAAaV,cAAyD,qBAAlCU,EAAaV,aAAaC,IAAqBnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAMQ,EAAaV,aAAaC,IAAI,IAAM,YAAYnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAA+C,IAAM,MAAMpB,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAGM,EAAazB,cAAaH,EAAG,MAAM,CAACY,YAAY,oBAAoBC,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOmB,kBAAyBrC,EAAIsC,eAAepB,MAAW,CAACd,EAAG,OAAO,CAACY,YAAY,cAAcZ,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,6CAA6C,KAAKpC,EAAG,MAAM,CAACY,YAAY,iCAAiC,CAACZ,EAAG,OAAO,CAACY,YAAY,SAAS,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,0CAA0CpC,EAAG,MAAM,CAACY,YAAY,sBAAsB,CAACZ,EAAG,MAAM,CAACS,MAAM,CAAC,oBAAqB,CAAC,SAAY,cAAgBb,EAAI0C,OAAOC,KAAKC,OAAO3B,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOmB,kBAAyBrC,EAAIoE,SAAS,gBAAgB,CAAE,cAAgBpE,EAAI0C,OAAOC,KAAKC,KAAMxC,EAAG,OAAO,CAACY,YAAY,sCAAsChB,EAAIoC,KAAKhC,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,gDAAgDpC,EAAG,MAAM,CAACS,MAAM,CAAC,oBAAqB,CAAC,SAAY,aAAeb,EAAI0C,OAAOC,KAAKC,OAAO3B,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOmB,kBAAyBrC,EAAIoE,SAAS,eAAe,CAAE,aAAepE,EAAI0C,OAAOC,KAAKC,KAAMxC,EAAG,OAAO,CAACY,YAAY,sCAAsChB,EAAIoC,KAAKhC,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,mDAAmDpC,EAAG,MAAM,CAACY,YAAY,gCAAgC,CAACZ,EAAG,OAAO,CAACY,YAAY,SAAS,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,yCAAyCpC,EAAG,MAAM,CAACY,YAAY,sBAAsB,CAACZ,EAAG,gBAAgBA,EAAG,MAAM,CAACY,YAAY,oBAAoB,CAACZ,EAAG,OAAO,CAACY,YAAY,SAAS,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,wCAAwCpC,EAAG,MAAM,CAACY,YAAY,4BAA4B,CAACZ,EAAG,OAAO,CAACY,YAAY,0BAA0B,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,oDAAoDpC,EAAG,MAAM,CAACY,YAAY,wBAAwBQ,MAAM,CAAC,gBAAkB,QAAQP,GAAG,CAAC,MAAQjB,EAAIqE,WAAW,CAACrE,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIsE,KAAKC,MAAM,OAAOnE,EAAG,IAAI,CAACoE,IAAI,OAAOxD,YAAY,kCAAkC,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIsE,KAAKG,SAASrE,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,iBAAkB,6BAA6B,MAAQxB,EAAIuC,IAAIC,IAAI,4CAA4CvB,GAAG,CAAC,QAAUjB,EAAI0E,WAAW,CAACtE,EAAG,MAAM,CAACoB,MAAM,CAAC,KAAO,YAAY,IAAM,EAAQ,QAAoC,IAAM,IAAI6B,KAAK,iBAAiB,GAAGjD,EAAG,MAAM,CAACY,YAAY,0BAA0B,CAACZ,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,iDAAiDpC,EAAG,IAAI,CAACY,YAAY,wBAAwBQ,MAAM,CAAC,OAAS,SAAS,KAAOxB,EAAI2E,aAAa,CAACvE,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAkC,IAAM,QAAQpB,EAAG,IAAI,CAACY,YAAY,wBAAwBQ,MAAM,CAAC,OAAS,SAAS,KAAO,KAAKP,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBnB,EAAI4E,sBAAsB,CAACxE,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAA8C,IAAM,QAAQpB,EAAG,IAAI,CAACY,YAAY,wBAAwBQ,MAAM,CAAC,OAAS,SAAS,KAAQ,wBAA2BqD,mBAAmB7E,EAAI8E,UAAY,KAAO9E,EAAIsE,KAAKG,MAAQ,cAAc,yBAAyB,CAACrE,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAkC,IAAM,QAAQpB,EAAG,IAAI,CAACY,YAAY,wBAAwBQ,MAAM,CAAC,OAAS,SAAS,KAAQ,gBAAmBqD,mBAAmB7E,EAAI8E,UAAY,KAAO9E,EAAIsE,KAAKG,QAAU,CAACrE,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAuC,IAAM,aAAa,KAAKpB,EAAG,MAAM,CAACY,YAAY,+BAA+B,CAACZ,EAAG,OAAO,CAACY,YAAY,SAAS,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,wCAAwCpC,EAAG,MAAM,CAACY,YAAY,sBAAsBhB,EAAI+B,GAAI/B,EAAIuC,IAAQ,MAAE,SAASwC,GAAM,OAAO3E,EAAG,MAAM,CAAC6B,IAAI8C,EAAKlE,MAAM,CAAC,oBAAqB,CAAC,SAAYkE,IAAS/E,EAAIuC,IAAIyC,UAAU/D,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOmB,kBAAyBrC,EAAIiF,WAAWF,MAAS,CAAEA,IAAS/E,EAAIuC,IAAIyC,QAAS5E,EAAG,OAAO,CAACY,YAAY,sCAAsChB,EAAIoC,KAAqBhC,EAAG,OAAlB,OAAS2E,EAAgB,CAAC/E,EAAIyB,GAAG,UAAqB,CAACzB,EAAIyB,GAAG,kBAAiB,KAAKrB,EAAG,MAAM,CAACY,YAAY,6BAA6B,CAACZ,EAAG,MAAM,CAACY,YAAY,sBAAsB,CAACZ,EAAG,MAAM,CAACS,MAAM,CAAC,qBAAqBI,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOmB,kBAAyBrC,EAAIkD,OAAOhC,MAAW,CAACd,EAAG,OAAO,CAACY,YAAY,mCAAmCZ,EAAG,OAAO,CAACY,YAAY,gBAAgB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,wCAAwCpC,EAAG,MAAM,CAACY,YAAY,+BAA+B,CAACZ,EAAG,MAAM,CAACY,YAAY,eAAe,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,qBAAqBpC,EAAG,MAAM,CAACY,YAAY,mBAAmB,CAACZ,EAAG,MAAM,CAACY,YAAY,wBAAwB,CAACZ,EAAG,IAAI,CAACY,YAAY,eAAeQ,MAAM,CAAC,KAAOxB,EAAIuC,IAAIC,IAAI,wBAAwB,CAACpC,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAuC,IAAM,QAAQpB,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,6BAA6BpC,EAAG,MAAM,CAACY,YAAY,wBAAwB,CAACZ,EAAG,IAAI,CAACY,YAAY,eAAeQ,MAAM,CAAC,KAAOxB,EAAIuC,IAAIC,IAAI,wBAAwB,CAACpC,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,SAAoC,IAAM,QAAQpB,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,6BAA6BpC,EAAG,MAAM,CAACY,YAAY,wBAAwB,CAACZ,EAAG,IAAI,CAACY,YAAY,eAAeQ,MAAM,CAAC,KAAOxB,EAAIuC,IAAIC,IAAI,2BAA2B,CAACpC,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAsC,IAAM,QAAQpB,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,sCAAsCxC,EAAIoC,QAClic8C,EAAkB,G,oGCDlB,EAAS,WAAa,IAAIlF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACS,MAAM,CAAC,iBAAkBC,OAAQd,EAAIe,YAAY,CAACf,EAAI+B,GAAI/B,EAAImF,cAAkB,MAAE,SAASC,GAAU,OAAOhF,EAAG,MAAM,CAACY,YAAY,uBAAuB,CAAoC,qBAA1BoE,EAAS9D,cAAgC,OAAS8D,EAAS9D,cAAiB,UAAY8D,EAAS9D,aAAa+D,QAAUD,EAAS9D,aAAaC,IAAI+D,OAAS,EAAGlF,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM4D,EAAS9D,aAAaC,IAAI,IAAM,cAAcnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAA8C,IAAM,WAAWxB,EAAImF,cAAcI,MAAQ,EAAI,EAAGnF,EAAG,MAAM,CAACY,YAAY,6BAA6B,CAACZ,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAImF,cAAcI,MAAQ,MAAMnF,EAAG,OAAO,CAACY,YAAY,cAAc,CAAChB,EAAIyB,GAAG,SAASzB,EAAIoC,MAAM,IACxxB,EAAkB,G,kCCetB,GACE7B,KAAM,eACNiF,MAAO,CACLC,UAAW,CACT7C,KAAM,CAAC8C,MAAOC,QACdC,QAFN,WAGQ,MAAO,KAGX7E,UAAW,CACT6B,KAAM,CAAC8C,MAAOG,QACdD,QAFN,WAGQ,MAAO,MAIbE,SAAU,OAAZ,OAAY,CAAZ,GACA,gBACI,SAAJ,+BAGEC,KArBF,WAsBI,MAAO,CACLZ,cAAe,KAGnBa,QA1BF,WA2BI,IAAJ,KACA,+CACMP,EAAYxF,KAAKoB,SAAS4E,UAAUC,KAAI,SAA9C,GAEQ,OADAC,EAASnD,KAAK,4BAA8BmD,EAASC,yBAC9CD,EAASnD,SAIpB/C,KAAKkF,cAAgB,CACnBI,MAAOE,EAAUH,OACjBS,KAAMN,EAAUY,OAAO,EAAG,MCrDsT,I,wBCQlVC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCnBX,EAAS,WAAa,IAAItG,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,gBAAgBC,QAAQ,kBAAkBC,MAAOT,EAAkB,eAAEY,WAAW,mBAAmBI,YAAY,YAAY,CAACZ,EAAG,MAAM,CAACY,YAAY,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIuG,QAAUvG,EAAIuG,UAAU,CAACvG,EAAIwG,GAAG,kBAAkBpG,EAAG,MAAM,CAACY,YAAY,kBAAkB,CAAChB,EAAIwG,GAAG,iBAAiB,CAACpG,EAAG,MAAM,CAACqG,SAAS,CAAC,UAAYzG,EAAI0B,GAAG1B,EAAIuE,YAAY,GAAGnE,EAAG,OAAO,CAACS,MAAM,CAAC,OAAQ,QAAS,kBAAmB,CAAC,KAAQb,EAAIuG,YAAY,GAAIvG,EAAU,OAAEI,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,gBAAgBC,QAAQ,kBAAkBC,MAAOT,EAAkB,eAAEY,WAAW,mBAAmBI,YAAY,mBAAmBhB,EAAI+B,GAAI/B,EAAS,OAAE,SAAS0G,GAAM,OAAOtG,EAAG,MAAM,CAAC6B,IAAIyE,EAAKjG,MAAMO,YAAY,iBAAiBC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBnB,EAAI2G,WAAWD,MAAS,CAACtG,EAAG,MAAM,CAACY,YAAY,iBAAiBC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBnB,EAAI2G,WAAWD,MAAS,CAA0B,qBAAjBA,EAAKE,SAAuD,qBAArBF,EAAKE,QAAQC,KAAuB,QAAUH,EAAKE,QAAQC,IAAKzG,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAMkF,EAAKE,QAAQE,OAAO1G,EAAG,OAAO,CAACqG,SAAS,CAAC,UAAYzG,EAAI0B,GAAGgF,EAAK/C,iBAAgB,GAAG3D,EAAIoC,QACpvC,EAAkB,G,YCwBtB,GACE7B,KAAM,WACNiF,MAAO,CASLuB,MAAO,CACLnE,KAAM8C,MACNE,QAFN,WAGQ,MAAO,KAGXoB,YAAa,CACXpE,KAAM,CAACiD,OAAQF,QACfC,QAAS,KAGbG,KAtBF,WAuBI,MAAO,CACLQ,QAAQ,EACRhC,KAAM,KAGV0C,QAAS,CACPC,sBADJ,SACA,GACM,GAAN,2BACQ,OAAQN,EAAQC,KACd,IAAK,MACH,MAAO,aAAnB,qBAGM,MAAO,IAETF,WAVJ,SAUA,GACA,+BACQ1G,KAAKsE,KAAOtE,KAAKiH,sBAAsBR,EAAKE,SAE5C3G,KAAKsE,KAAOmC,EAAK/C,MAInB1D,KAAKkH,MAAM,WAAYT,GACvBzG,KAAKsG,QAAS,GAEhBa,eArBJ,WAsBMnH,KAAKsG,QAAS,IAGlBP,QArDF,WAsDA,2FACM/F,KAAKsE,KAAOtE,KAAKiH,sBAAsBjH,KAAK+G,YAAYJ,SAE9D,4BACQ3G,KAAKsE,KAAOtE,KAAK+G,eCnFyT,ICQ9U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCuVf,GACEzG,KAAM,SACN8G,WAAY,CACVC,OAAJ,OACIC,SAAJ,EACIC,aAAJ,GAEEhC,MAAO,CACLzE,UAAW,CACT6B,KAAM,CAAC8C,MAAOG,QACdD,QAAS,IAEX5C,KAAM,CACJJ,KAAM+C,OACNC,QAFN,WAGQ,MAAO,KAGX6B,aAAc,CACZ7E,KAAMiD,OACND,QAFN,WAGQ,OAAO,QAIbG,KAzBF,WA0BI,MAAO,CACL5C,WAAW,EACXxC,YAAY,EACZ8C,aAAa,EACbR,kBAAkB,EAClBR,gBAAgB,EAChBrB,oBAAoB,EAEpBkC,SAAU,CACR7C,MAAO,UACPkD,MAAO,GACPiD,QAAS,CACPC,IAAK,MACLC,IAAK,EAAf,UAIMpD,iBAAkB,CAChBjD,MAAO,KACPkD,MAAO,WAGTC,UAAW,CACjB,CACQ,MAAR,KACQ,MAAR,SAEA,CACQ,MAAR,KACQ,MAAR,YAIML,UAAW,CACjB,CACQ,MAAR,UACQ,MAAR,GACQ,QAAR,CACU,IAAV,MACU,IAAV,YAGA,CACQ,MAAR,SACQ,MAAR,GACQ,QAAR,CACU,IAAV,MACU,IAAV,aAIMe,KAAM,CACJC,KAAM,GACNE,KAAM,MAIZwC,QAAS,CACPpE,aADJ,WAEM,IAAN,6EACM6E,OAAOC,KAAKC,EAAUC,KAAM,UAE9B5D,YALJ,WAMM,GAAN,kBACQhE,KAAK+D,KAAK/D,KAAKwH,aAAc,CAArC,8BAEA,CAGQ,IAAR,+EAEQC,OAAOC,KAAKC,EAAUC,KAAM,WAGhCC,eAjBJ,WAkBM7H,KAAKgD,kBAAmB,GAE1B8E,aApBJ,WAqBM9H,KAAKwC,gBAAiB,GAExBuF,iBAvBJ,WAwBM/H,KAAKmB,oBAAqB,GAE5BoC,eA1BJ,SA0BA,GACMvD,KAAKgI,iBAAmB3E,EAExBrD,KAAKkH,MAAM,iBAAkBlH,KAAKgI,iBAAiBxH,QAErDoD,eA/BJ,SA+BA,GACM5D,KAAKyD,iBAAmBwE,EACxBjI,KAAKwD,aAAexD,KAAKwD,YAEzB,IAAN,2CACU,OAAS0E,GACXA,EAAcC,aAAa,MAAO,OAASnI,KAAKyD,iBAAiBjD,MAAQ,MAAQ,OAGnFR,KAAKkH,MAAM,iBAAkBlH,KAAKyD,iBAAiBjD,QAErD4H,aA1CJ,WA0CA,WACMpI,KAAKyD,iBAAmBzD,KAAK2D,UAAU0E,MAAK,SAAlD,qCACMrI,KAAKwD,aAAc,GAErBX,WA9CJ,SA8CA,GACMyF,EAAMlG,kBAENpC,KAAKU,YAAcV,KAAKU,YAE1ByC,gBAnDJ,WAoDMnD,KAAKkH,MAAM,kBAAmB,CAApC,0CAEIhD,gBAtDJ,WAuDM,GAAIlE,KAAKoB,UAAYpB,KAAKoB,SAASyC,KAAM,CACvC,IAAR,GACU0E,WAAYvI,KAAKoB,SAASa,GAC1BuG,YAAaxI,KAAKoB,SAASoH,aAG7BxI,KAAKyI,OAAOC,SAAS,4BAA6BC,KAGtD5E,KAhEJ,SAgEA,qEACM/D,KAAK4I,QAAQC,KAAK,CAAxB,mBAEI5F,OAnEJ,WAoEMjD,KAAKyI,OAAOC,SAAS,eACrB1I,KAAK4I,QAAQC,KAAK,CAAxB,eAEI7D,WAvEJ,SAuEA,GACMhF,KAAKsC,IAAIwG,OAAOhE,GAChBiE,SAASC,gBAAgBb,aAAa,OAAQrD,GAC9CiE,SAASC,gBAAgBb,aAAa,MAAO,OAASrD,EAAO,MAAQ,QAEvEzC,eA5EJ,WA6EMrC,KAAK4I,QAAQC,KAAK,CAAxB,mCAEI,eA/EJ,SA+EA,2KACA,uDADA,UAEA,gCAFA,gCAGA,yDAHA,OAMA,kBANA,8CAWI,SA1FJ,SA0FA,gKACA,oGADA,oDAKA,eALA,gCAMA,iBANA,UASA,gBATA,gCAUA,wCAVA,8CAaIlE,iBAvGJ,WAwGM,IAAN,wFAEA,2DACA,oCADA,sDAEA,wEAFA,+BAEA,mCAFA,gBAEA,mCAFA,yBAEA,mDAEM8C,OAAOC,KAAKpG,EAAK,WAEnB8C,SAhHJ,SAgHA,GACMpE,KAAKyI,OAAOC,SAAS,yBAA0BJ,EAAMW,OAAOC,YAE9DzE,SAnHJ,WAoHM0E,UAAUC,UAAUC,UAAUrJ,KAAKqE,KAAKG,OAE1C8E,cAtHJ,WAuHMtJ,KAAKyI,OAAOC,SAAS,mCAAoC1I,KAAKoB,SAASa,MAG3E4D,SAAU,OAAZ,OAAY,CAAZ,gBACIpF,SADJ,WAEM,OAAOgH,OAAO8B,WAAa,KAE7B7E,WAJJ,WAKM,IAAN,wFAEM,MAAO,gDAAb,oRAEA,gBACI,UAAJ,sBACI,SAAJ,4BACI,UAAJ,2BAZA,IAcI5B,aAdJ,WAeM,OAAO9C,KAAKyI,OAAOe,QAAQ,0BAA0BxJ,KAAKoB,SAASa,OAGvEwH,MAAO,CACL,gBADJ,SACA,GACMzJ,KAAKqE,KAAKC,KAAOtE,KAAKsC,IAAIoH,KAAK,OAAQ1J,KAAKoB,SAASd,MAAMiC,IAAI,yCAC/DvC,KAAKyI,OAAOC,SAAS,sBAAuB1I,KAAKqE,KAAKC,MAEtDtE,KAAKqE,KAAKG,KAAO,GAAvB,kEAGEuB,QAvOF,WAwOI/F,KAAKoI,eAEL,IAAJ,OACIuB,EAAJ,sCACMC,EAAM1G,UAAYA,KAIpBlD,KAAKqE,KAAKG,KAAO,GAArB,iFAEA,eAIMxE,KAAKqE,KAAKC,KAAOtE,KAAK6E,WAHtB7E,KAAKqE,KAAKC,KAAOtE,KAAKsC,IAAIoH,KAAK,OAAQ1J,KAAKoB,SAASd,MAAMiC,IAAI,yCAC/DvC,KAAKyI,OAAOC,SAAS,sBAAuB1I,KAAKqE,KAAKC,QAK1D,QAzPF,WAyPA,gLACA,8CADA,uBAEA,yCAFA,UAIA,uBAJA,gCAKA,kDALA,UAQA,mCARA,oBASA,4EATA,kCAUA,oEAVA,iDAaA,gEAbA,WAgBA,oEAhBA,oBAiBA,oEAEA,OAEA,mCACA,sBAGA,iCAzBA,kCA0BA,oDA1BA,WA8BA,WA9BA,kCA+BA,8BA/BA,QAkCA,kBAlCA,gDCnmB6X,ICQzX,G,UAAY,eACd,EACAxE,EACAmF,GACA,EACA,KACA,WACA,OAIa,S,8BCnBfrF,EAAOC,QAAU,IAA0B,gC,qBCA3CD,EAAOC,QAAU,IAA0B,gC,gECA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,aAAa,CAACZ,EAAG,SAAS,CAACoB,MAAM,CAAC,KAAOxB,EAAIgD,KAAK,UAAY,CAAC,uBAAuB5C,EAAG,MAAM,CAACY,YAAY,wBAAwB,CAAEhB,EAAe,YAAEI,EAAG,QAAQ,CAACoB,MAAM,CAAC,QAAUxB,EAAI8J,YAAY,YAAc9J,EAAI+J,sBAAsB9I,GAAG,CAAC,MAAQjB,EAAIgK,WAAW,QAAUhK,EAAIiK,gBAAgBjK,EAAIoC,KAAKhC,EAAG,MAAM,CAACY,YAAY,sBAAsB,CAACZ,EAAG,MAAM,CAACY,YAAY,mBAAmB,CAACZ,EAAG,MAAM,CAACY,YAAY,qBAAqB,CAAE,OAAShB,EAAIgD,MAAQ,OAAShD,EAAIgD,KAAK1B,cAAqD,qBAA9BtB,EAAIgD,KAAK1B,aAAaC,IAAqBnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAMxB,EAAIgD,KAAK1B,aAAaC,IAAI,IAAM,YAAYnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAsD,IAAM,cAAcpB,EAAG,KAAK,CAACY,YAAY,wBAAwB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIoH,KAAK,OAAQ,OAAS3J,EAAIgD,KAAOhD,EAAIgD,KAAKzC,KAAO,IAAIiC,IAAI,gCAAgCpC,EAAG,MAAM,CAACY,YAAY,oBAAoB,CAACZ,EAAG,MAAM,CAACY,YAAY,mBAAmB,CAACZ,EAAG,MAAM,CAACY,YAAY,iBAAiB,CAACZ,EAAG,MAAM,CAACY,YAAY,gBAAgB,CAACZ,EAAG,OAAO,CAACY,YAAY,eAAe,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,kCAAkCpC,EAAG,MAAM,CAACY,YAAY,kBAAkB,CAACZ,EAAG,MAAM,CAACY,YAAY,yBAAyB,CAACZ,EAAG,MAAM,CAACY,YAAY,kBAAkB,CAACZ,EAAG,OAAO,CAACY,YAAY,mBAAmB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,oCAAoCpC,EAAG,OAAO,CAACY,YAAY,mBAAmB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIkK,WAAWC,WAAWnK,EAAIqB,SAAS+I,UAAW,oBAAoBhK,EAAG,MAAM,CAACY,YAAY,yBAAyB,CAACZ,EAAG,OAAO,CAACY,YAAY,mBAAmB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,qCAAsCxC,EAAIqB,SAASyC,MAAQ,OAAS9D,EAAIqB,SAASgJ,aAAmD,qBAA7BrK,EAAIqB,SAASgJ,aAAiE,YAAlCrK,EAAIqB,SAASgJ,YAAYzH,KAAoBxC,EAAG,OAAO,CAACY,YAAY,mBAAmB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIoH,KAAK,SAAU3J,EAAIuC,IAAIC,IAAI,2BAA2BA,IAAI,uCAAwCxC,EAAIqB,SAASyC,MAAQ,OAAS9D,EAAIqB,SAASgJ,aAAmD,qBAA7BrK,EAAIqB,SAASgJ,aAAiE,SAAlCrK,EAAIqB,SAASgJ,YAAYzH,KAAiBxC,EAAG,OAAO,CAACY,YAAY,mBAAmB,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIoH,KAAK,SAAU3J,EAAIuC,IAAIC,IAAI,wBAAwBA,IAAI,oCAAoCpC,EAAG,cAAc,CAACY,YAAY,4BAA4BQ,MAAM,CAAC,IAAM,OAAO,GAAK,CAAEjB,KAAM,oBAAqB+J,OAAQ,CAACvG,KAAM/D,EAAIqB,SAASa,OAAO,CAAClC,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,uCAAuC,KAAKpC,EAAG,MAAM,CAACY,YAAY,qBAAqB,CAACZ,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,cAAe,YAAY,MAAQxB,EAAIuC,IAAIC,IAAI,oCAAoCvB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAIgE,KAAK,iBAAkB,CAAC9B,GAAIlC,EAAIqB,SAASa,IAAK,cAAc9B,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,cAAe,eAAe,MAAQxB,EAAIuC,IAAIC,IAAI,uCAAuCvB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAIgE,KAAK,iBAAkB,CAACD,KAAM/D,EAAIqB,SAASa,IAAK,cAAc9B,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,cAAe,WAAW,MAAQxB,EAAIuC,IAAIC,IAAI,mCAAmCvB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAIgE,KAAK,uBAAwB,CAACD,KAAM/D,EAAIqB,SAASa,IAAK,aAAa,CAAC9B,EAAG,OAAO,CAACY,YAAY,sBAAsBQ,MAAM,CAAC,KAAO,aAAa6B,KAAK,iBAAiB,KAAKjD,EAAG,MAAM,CAACY,YAAY,iBAAiB,CAACZ,EAAG,MAAM,CAACY,YAAY,iBAAiB,CAACZ,EAAG,MAAM,CAACY,YAAY,qBAAqBZ,EAAG,MAAM,CAACY,YAAY,kBAAkB,CAACZ,EAAG,MAAM,CAACY,YAAY,SAAS,CAACZ,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,wCAAwCpC,EAAG,OAAO,CAACY,YAAY,2BAA2BC,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIuK,eAAiBvK,EAAIuK,oBAAoBnK,EAAG,MAAM,CAACY,YAAY,eAAe,CAACZ,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,kDAAkDpC,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,cAAe,WAAW,MAAQxB,EAAIuC,IAAIC,IAAI,uCAAuCvB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAIgE,KAAK,wBAAyB,CAACD,KAAM/D,EAAIqB,SAASa,IAAK,aAAa,CAAC9B,EAAG,OAAO,CAACY,YAAY,+BAA+BQ,MAAM,CAAC,KAAO,aAAa6B,KAAK,iBAAiB,GAAGjD,EAAG,MAAM,CAACS,MAAM,CAAC,iBAAkB,CAAC,UAAab,EAAIwK,eAAexK,EAAIqB,SAASa,OAAO,CAAGlC,EAAIwK,eAAexK,EAAIqB,SAASa,IAAuKlC,EAAIyK,QAAQzK,EAAIqB,SAASa,IAAIoD,OAAS,EAAGlF,EAAG,MAAM,CAACY,YAAY,0BAA0BQ,MAAM,CAAC,GAAKxB,EAAI0K,aAAaC,YAAa,SAAY3K,EAAIqB,SAAa,QAAM,CAACjB,EAAG,MAAM,CAACY,YAAY,kBAAkBhB,EAAI+B,GAAI/B,EAAIyK,QAAQzK,EAAIqB,SAASa,KAAK,SAAS0I,GAAO,OAAOxK,EAAG,MAAM,CAAC6B,IAAI2I,EAAM1I,GAAGlB,YAAY,8BAA8B,CAACZ,EAAG,MAAM,CAACY,YAAY,oBAAoB,CAACZ,EAAG,OAAO,CAACY,YAAY,SAAS,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,wCAAwCpC,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAI6K,gBAAgB7K,EAAIqB,SAAS+I,iBAAiBhK,EAAG,MAAM,CAACY,YAAY,oBAAoB,CAACZ,EAAG,MAAM,CAACY,YAAY,QAAQ,CAACZ,EAAG,MAAM,CAACY,YAAY,iBAAiB,CAAE,OAAS4J,EAAME,OAAS,OAASF,EAAME,MAAM9H,KAAK1B,cAA6D,qBAAtCsJ,EAAME,MAAM9H,KAAK1B,aAAaC,IAAqBnB,EAAG,MAAM,CAACY,YAAY,gBAAgBQ,MAAM,CAAC,IAAMoJ,EAAME,MAAM9H,KAAK1B,aAAaC,IAAI,IAAM,WAAWnB,EAAG,MAAM,CAACY,YAAY,gBAAgBQ,MAAM,CAAC,IAAM,EAAQ,QAA8C,IAAM,WAAWpB,EAAG,MAAM,CAACY,YAAY,gBAAgB,CAACZ,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAGkJ,EAAME,MAAM9H,KAAKzC,SAASH,EAAG,OAAO,CAACY,YAAY,WAAW,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAGkJ,EAAME,MAAM1E,iCAAiChG,EAAG,MAAM,CAACY,YAAY,YAAY,CAACZ,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,eAAgB,iBAAiB,MAAQxB,EAAIuC,IAAIC,IAAI,0CAA0CvB,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAI+K,UAAUH,OAAWxK,EAAG,MAAM,CAACY,YAAY,oBAAoB,KAAKZ,EAAG,MAAM,CAACY,YAAY,+BAA+B,CAACZ,EAAG,OAAO,CAACY,YAAY,qCAAqCZ,EAAG,OAAO,CAACY,YAAY,eAAe,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAGkJ,EAAMI,OAAOzK,kBAAiB,GAAGH,EAAG,MAAM,CAACS,MAAO,6CAAgDb,EAAIqB,SAAa,KAAGG,MAAM,CAAC,KAAO,eAAe6B,KAAK,eAAe,CAACjD,EAAG,MAAM,CAACoB,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,SAAS,OAAS,SAAS,QAAU,sBAAsB,CAACpB,EAAG,OAAO,CAACoB,MAAM,CAAC,GAAK,YAAY,YAAY,YAAY,EAAI,6FAA6F,UAAY,mBAAmB,KAAO,sBAAsBpB,EAAG,MAAM,CAACS,MAAO,6CAAgDb,EAAIqB,SAAa,KAAGG,MAAM,CAAC,KAAO,eAAe6B,KAAK,eAAe,CAACjD,EAAG,MAAM,CAACoB,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,SAAS,OAAS,SAAS,QAAU,sBAAsB,CAACpB,EAAG,OAAO,CAACoB,MAAM,CAAC,GAAK,YAAY,YAAY,YAAY,EAAI,0FAA0F,KAAO,wBAAwBxB,EAAIoC,KAAhvFhC,EAAG,MAAM,CAACY,YAAY,mCAAmC,CAACZ,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,0DAA8oF,GAAGpC,EAAG,cAAeJ,EAAiB,cAAEI,EAAG,UAAU,CAACoB,MAAM,CAAC,MAAQxB,EAAIuC,IAAIC,IAAI,wBAAwB,cAAe,GAAOvB,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIuK,eAAgB,KAAS,CAACnK,EAAG,MAAM,CAACY,YAAY,uBAAuBQ,MAAM,CAAC,KAAO,WAAW6B,KAAK,WAAW,CAACjD,EAAG,OAAO,CAACJ,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,wBAAwB,WAAWxC,EAAIoC,KAAKhC,EAAG,WAAW,IAC5+O8E,EAAkB,G,0DCDlB,EAAS,WAAa,IAAIlF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,YAAY,oBAAoB,CAACZ,EAAG,MAAM,CAACY,YAAY,+BAA+B,CAACZ,EAAG,MAAM,CAACY,YAAY,mCAAmC,CAACZ,EAAG,OAAO,CAACY,YAAY,2BAA2BZ,EAAG,MAAM,CAACY,YAAY,0BAA0B,CAAChB,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,0BAA0B,SAASpC,EAAG,MAAM,CAACY,YAAY,4BAA4B,CAACZ,EAAG,MAAM,CAACY,YAAY,6BAA6B,CAACZ,EAAG,IAAI,CAACoB,MAAM,CAAC,KAAQ,WAAcxB,EAAIuC,IAAIC,IAAI,sBAAwB,CAACpC,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM,EAAQ,QAAqC,IAAM,MAAMxB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,4CAA4CpC,EAAG,IAAI,CAACoB,MAAM,CAAC,KAAQ,WAAcxB,EAAIuC,IAAIC,IAAI,sBAAwB,CAACxC,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,8CAA8CpC,EAAG,IAAI,CAACoB,MAAM,CAAC,KAAQ,WAAcxB,EAAIuC,IAAIC,IAAI,sBAAwB,CAACxC,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,8CAA8CpC,EAAG,MAAM,CAACY,YAAY,6BAA6B,CAACZ,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,aAAc,wBAAyB,WAAW,MAAQxB,EAAIuC,IAAIC,IAAI,4CAA4CvB,GAAG,CAAC,QAAU,SAASC,GAAQlB,EAAIiL,SAASjL,EAAIuC,IAAIC,IAAI,+CAA+CpC,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,aAAc,wBAAyB,OAAO,MAAQxB,EAAIuC,IAAIC,IAAI,wCAAwCvB,GAAG,CAAC,QAAUjB,EAAIkL,aAAa,GAAG9K,EAAG,MAAM,CAACY,YAAY,4BAA4B,CAAChB,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIuC,IAAIoH,KAAK,QAAQ,IAAIwB,MAAOC,eAAe5I,IAAI,mCAAmC,cAC1oD,EAAkB,G,wBC4CtB,GACEjC,KAAM,SACN8G,WAAY,CACVC,OAAJ,QAEEL,QAAS,CACPgE,SADJ,SACA,GACA,GACQvD,OAAOC,KAAKlD,EAAM,WAGtByG,SANJ,WAOMtB,EAAN,kCCzD8W,I,wBCQ1WtD,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,6FCiMf,qBAQA,OACE,KAAF,QACE,WAAF,CACI,OAAJ,OACI,OAAJ,OACI,OAAJ,EACI,WAAJ,OACI,MAAJ,OACI,QAAJ,QAEE,KAVF,WAWI,MAAJ,CACM,eAAN,EACM,cAAN,CACQ,cAAR,OACQ,WAAR,CACU,OAAV,KACU,OAAV,OAGM,aAAN,EACM,YAAN,KACM,qBAAN,KACM,iBAAN,EACM,aAAN,GAEM,OAAN,KAGE,SAAF,gBACI,QADJ,WAEM,MAAN,yBAEI,SAJJ,WAKM,MAAN,SAEI,SAPJ,WAQM,MAAN,SAEA,gBACI,SAAJ,4BACI,QAAJ,oBACI,KAAJ,qBAGE,MAAF,CACI,gBADJ,SACA,GACM,KAAN,iBAGE,QAAF,CACI,aADJ,WAEA,8CACQ,KAAR,sBAGM,KAAN,cAEI,WARJ,WAQM,IAAN,OACA,OACM,YAAN,WACA,mGACU,EAAV,4DACU,EAAV,4DAEU,EAAV,+GAEA,MAEI,WAnBJ,WAoBM,KAAN,eACM,KAAN,iBACM,KAAN,0BACM,KAAN,uCAEI,aAzBJ,WAyBM,IAAN,OAAM,OAAN,6IACA,eADA,SAEA,mBAFA,OAIA,iBAJA,8CAMI,gBA/BJ,WAgCM,KAAN,oBAEI,eAlCJ,WAkCM,IAAN,OAAM,OAAN,sJACA,gEADA,8CAGI,eArCJ,SAqCA,GACM,MAAN,gEAEI,gBAxCJ,SAwCA,GACM,MAAN,wBACA,8CAGA,mEAEI,UA/CJ,SA+CA,GACM,KAAN,eACM,KAAN,iBACM,KAAN,oCAEI,KApDJ,SAoDA,OACM,GAAN,cACQ,IAAR,wBAAU,KAAV,EAAU,OAAV,IAEQ,OAAR,2BAEQ,KAAR,oBAIE,QAhHF,WAgHI,IAAJ,OACA,OACI,YAAJ,WACM,EAAN,eACA,KAEI,IAAJ,eACI,EAAJ,yCACA,+BACQ,EAAR,kBAII,EAAJ,+BACM,EAAN,mBAGE,QAjIF,WAiII,IAAJ,OAAI,OAAJ,yIAGA,kDAHA,gCAIA,8BAJA,+CC7V8V,ICQ1V,G,UAAY,eACd,EACAvG,EACAmF,GACA,EACA,KACA,WACA,OAIa,e,2CCnBf,W,qBCAArF,EAAOC,QAAU,IAA0B,+B,qBCA3CD,EAAOC,QAAU,IAA0B,6B,mCCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,cAAcC,QAAQ,gBAAgBC,MAAOT,EAAU,OAAEY,WAAW,WAAWI,YAAY,mBAAmB,CAAEhB,EAAmB,gBAAEI,EAAG,cAAc,CAACoB,MAAM,CAAC,WAAaxB,EAAIqB,SAASa,GAAG,QAAUlC,EAAIqL,QAAQ,cAAgBrL,EAAIgL,QAAQ/J,GAAG,CAAC,MAAQjB,EAAIsL,iBAAiB,aAAetL,EAAIuL,aAAavL,EAAIoC,KAAMpC,EAAiB,cAAEI,EAAG,UAAU,CAACoB,MAAM,CAAC,MAAQxB,EAAIuC,IAAIC,IAAK,mBAAqBxC,EAAI4C,KAAO,eAAgB,cAAe,GAAO3B,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIuK,eAAgB,KAAS,CAACnK,EAAG,MAAM,CAACY,YAAY,uBAAuBQ,MAAM,CAAC,KAAO,WAAW6B,KAAK,WAAW,CAACjD,EAAG,OAAO,CAACJ,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAK,mBAAqBxC,EAAI4C,KAAO,eAAgB,WAAW5C,EAAIoC,KAAKhC,EAAG,MAAM,CAACoE,IAAI,QAAQxD,YAAY,yBAAyBQ,MAAM,CAAC,SAAW,KAAKP,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAO0B,KAAK4I,QAAQ,QAAQxL,EAAIyL,GAAGvK,EAAOwK,QAAQ,MAAM,GAAGxK,EAAOe,IAAI,CAAC,MAAM,WAAoB,KAAcjC,EAAI2L,MAAMzK,MAAW,CAACd,EAAG,MAAM,CAACY,YAAY,2BAA2B,CAACZ,EAAG,OAAO,CAACY,YAAY,0CAA0CC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBnB,EAAI2L,MAAMzK,OAAYd,EAAG,MAAM,CAACY,YAAY,2BAA2B,CAAEhB,EAAI4L,kBAAkB,UAAY,OAAS5L,EAAI4K,MAAME,MAAM9H,KAAK1B,cAA6D,qBAAtCtB,EAAI4K,MAAME,MAAM9H,KAAK1B,cAA6E,UAA7CtB,EAAI4K,MAAME,MAAM9H,KAAK1B,aAAa+D,QAAsBrF,EAAI4K,MAAME,MAAM9H,KAAK1B,aAAaC,IAAKnB,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAMxB,EAAI4K,MAAME,MAAM9H,KAAK1B,aAAaC,IAAI,IAAM,YAAYnB,EAAG,MAAM,CAACY,YAAY,qBAAqBQ,MAAM,CAAC,IAAM,EAAQ,QAAsD,IAAM,cAAcpB,EAAG,MAAM,CAACY,YAAY,yBAAyB,CAACZ,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAI4L,kBAAkB,SAAW5L,EAAI4K,MAAME,MAAM9H,KAAKzC,KAAO,OAAOH,EAAG,OAAO,CAACY,YAAY,YAAY,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAI4L,kBAAkB,SAAW5L,EAAI4K,MAAME,MAAM1E,yBAA2B,WAAWhG,EAAG,MAAM,CAACoE,IAAI,eAAexD,YAAY,4BAA4B,CAACZ,EAAG,MAAM,CAACY,YAAY,gCAAgC,CAACZ,EAAG,MAAM,CAACY,YAAY,wBAAwB,CAACZ,EAAG,MAAM,CAACY,YAAY,WAAW,CAACZ,EAAG,MAAM,CAACY,YAAY,SAAS,CAACZ,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,4CAA4CpC,EAAG,OAAO,CAACY,YAAY,2BAA2BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAI6L,YAAY,gBAAgBzL,EAAG,MAAM,CAACY,YAAY,mBAAmBC,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOmB,kBAAyBrC,EAAI8L,qBAAqB,CAAC1L,EAAG,MAAM,CAACS,MAAM,CAAC,cAAe,aAAa,CAACT,EAAG,OAAO,CAACY,YAAY,0BAA0BZ,EAAG,OAAO,CAACY,YAAY,OAAOyF,SAAS,CAAC,UAAYzG,EAAI0B,GAAG1B,EAAIgL,OAAOzK,SAASH,EAAG,OAAO,CAACY,YAAY,qBAAqBZ,EAAG,MAAM,CAACY,YAAY,WAAW,CAAE,aAAef,KAAKyC,OAAOC,KAAKC,KAAMxC,EAAG,MAAM,CAACY,YAAY,SAAS,CAACZ,EAAG,OAAO,CAACY,YAAY,QAAQ,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,wCAAwCpC,EAAG,OAAO,CAACY,YAAY,2BAA2BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAI6L,YAAY,iBAAiB7L,EAAIoC,KAAM,aAAenC,KAAKyC,OAAOC,KAAKC,KAAMxC,EAAG,MAAM,CAACY,YAAY,oBAAoB,CAACZ,EAAG,MAAM,CAACY,YAAY,gFAAgFC,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,iBAAiBD,EAAOmB,kBAAkBrC,EAAI+L,gBAAkB/L,EAAI+L,kBAAkB,CAAE/L,EAAkB,eAAEI,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,2DAA2DpC,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,2DAA2DpC,EAAG,MAAM,CAACS,MAAM,CAAC,iCAAkC,CAAC,QAAWb,EAAI+L,kBAAkB,CAAC3L,EAAG,MAAM,CAACY,YAAY,2CAA2ChB,EAAIoC,SAAShC,EAAG,OAAO,CAACY,YAAY,0BAA0B,CAAChB,EAAIyB,GAAGzB,EAAI0B,GAAG1B,EAAIuC,IAAIC,IAAI,0CAA0CpC,EAAG,MAAM,CAACY,YAAY,yBAAyB,CAACZ,EAAG,MAAM,CAACY,YAAY,oCAAoCQ,MAAM,CAAC,gBAAkB,OAAO,MAAQxB,EAAIgM,aAAavF,SAAS,CAAC,UAAYzG,EAAI0B,GAAG1B,EAAI4K,MAAMoB,cAAc/K,GAAG,CAAC,MAAQjB,EAAIiM,kBAAkB7L,EAAG,MAAM,CAACY,YAAY,+BAA+BhB,EAAI+B,GAAI/B,EAAY,UAAE,SAASkM,GAAS,OAAO9L,EAAG,MAAM,CAAC6B,IAAIiK,EAAQhK,GAAGlB,YAAY,gBAAgB,CAACZ,EAAG,OAAO,CAACY,YAAY,0BAA0BC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBnB,EAAImM,YAAYD,EAAQtJ,KAAMsJ,EAAQhK,QAAS,SAAWgK,EAAQtJ,MAAS5C,EAAIoM,mBAAmBF,EAAQzH,MAAwR,SAAWyH,EAAQtJ,MAAQ5C,EAAIoM,mBAAmBF,EAAQzH,MAAOrE,EAAG,MAAM,CAACY,YAAY,cAAc,CAACZ,EAAG,MAAM,CAACY,YAAY,gBAAgB,CAACZ,EAAG,SAAS,CAACoB,MAAM,CAAC,MAAQ,OAAO,OAAS,QAAQ,IAAO,iCAAoCxB,EAAIqM,WAAWH,EAAQzH,MAAQ,YAAc,IAAI,MAAQ,2FAA2F,gBAAkB,UAAW,OAASyH,EAAQI,MAAO,SAAWJ,EAAQtJ,MAAQ,UAAYsJ,EAAQK,YAAanM,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM0K,EAAQI,KAAK/K,OAAQ,OAAS2K,EAAQI,MAAO,SAAWJ,EAAQtJ,MAAQ,UAAYsJ,EAAQK,aAAe,UAAYL,EAAQI,KAAKjH,OAAQjF,EAAG,cAAc,CAACoB,MAAM,CAAC,QAAU,CACz+KgL,UAAU,EACVC,UAAU,EACVC,QAAS,CACP,CACE5F,IAAKoF,EAAQI,KAAK/K,UAGlB,OAAS2K,EAAQI,MAAO,SAAWJ,EAAQtJ,MAAQ,UAAYsJ,EAAQK,aAAe,UAAYL,EAAQI,KAAKjH,OAAQjF,EAAG,cAAc,CAACoB,MAAM,CAAC,QAAU,CAAC,CAChK8K,KAAMJ,EAAQI,KAAK/K,IACnBqB,KAAM,KACL,UAAY,CAAC,0BAA0B5C,EAAIoC,KAXs/IhC,EAAG,MAAM,CAACY,YAAY,cAAc,CAACZ,EAAG,MAAM,CAACoB,MAAM,CAAC,IAAM0K,EAAQS,eAAe,IAAM,MAAMvM,EAAG,MAAM,CAACY,YAAY,eAAe,CAACZ,EAAG,OAAO,CAACY,YAAY,8BAA8BZ,EAAG,QAAQ,CAACoB,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQiF,SAAS,CAAC,MAAQyF,EAAQzH,aAWpvJ,MAAK,OAAOrE,EAAG,MAAM,CAACY,YAAY,2BAA2B,CAACZ,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,cAAe,aAAa,MAAQ,aAAevB,KAAKyC,OAAOC,KAAKC,KAAO5C,EAAIuC,IAAIC,IAAI,mCAAqCxC,EAAIuC,IAAIC,IAAI,mCAAmCvB,GAAG,CAAC,QAAUjB,EAAI4M,eAAgB,aAAe3M,KAAKyC,OAAOC,KAAKC,KAAMxC,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,eAAgB,eAAe,MAAQxB,EAAIuC,IAAIC,IAAI,kCAAkCvB,GAAG,CAAC,QAAUjB,EAAI6M,QAAQzM,EAAG,SAAS,CAACoB,MAAM,CAAC,UAAY,CAAC,MAAO,eAAgB,eAAe,MAAQxB,EAAIuC,IAAIC,IAAI,qCAAqCvB,GAAG,CAAC,QAAUjB,EAAI8M,YAAY,MAAM,IACntB5H,EAAkB,G,4PC+KtB,GACE,KAAF,QACE,WAAF,CACI,OAAJ,OACI,YAAJ,OACI,YAAJ,OACI,YAAJ,OACI,QAAJ,QAEE,MAAF,CACI,QAAJ,CACM,KAAN,gBACM,QAAN,MAEI,YAAJ,CACM,KAAN,gBACM,QAAN,MAEI,UAAJ,CACM,KAAN,QACM,SAAN,IAGE,KAvBF,WAwBI,MAAJ,CACM,eAAN,EACM,QAAN,EACM,iBAAN,EACM,OAAN,GACM,gBAAN,EACM,mBAAN,EACM,YAAN,KACM,KAAN,SAEM,YAAN,GACM,SAAN,KAGE,SAAF,kBACA,gBACI,MAAJ,cACI,SAAJ,4BACI,QAAJ,uBAGE,QAAF,CACI,eADJ,SACA,GACM,KAAN,4DACA,qCACQ,EAAR,oBACQ,KAAR,iBAGI,YARJ,SAQA,KACM,IAAN,uCAAQ,OAAR,wBACM,KAAN,sBAEI,YAZJ,SAYA,GACA,kDACQ,KAAR,eAEQ,KAAR,OAGM,KAAN,kBAEI,MArBJ,WAsBM,KAAN,UACM,KAAN,gBAEI,KAzBJ,WAyBM,IAAN,OAAM,OAAN,2JACA,iCACA,kCACA,YAIA,iCACA,mBACA,YAIA,GACA,cACA,MACA,0BACA,6BACA,yBACA,0BACA,yBACA,OACA,aACA,0BACA,8BAGA,yBACA,OACA,YACA,gCAMA,mCACA,gCArCA,SAwCA,oCAxCA,UAwCA,EAxCA,QA0CA,SA1CA,oBA2CA,gCA3CA,kCA4CA,oDA5CA,uCA8CA,GACA,yBACA,aAhDA,UAkDA,+CAlDA,eAqDA,UArDA,kBAsDA,CACA,UACA,cAxDA,eA2DA,6CA3DA,kBA4DA,CACA,UACA,6CA9DA,+CAkEI,YA3FJ,WA2FM,IAAN,OAAM,OAAN,4JACA,SADA,OACA,EADA,OAEA,GACA,UAHA,8CAMI,QAjGJ,WAiGM,IAAN,OAAM,OAAN,8JACA,SADA,UACA,EADA,QAGA,SAHA,iCAIA,iFAJA,UAIA,EAJA,QAMA,SANA,wBAOA,YACA,wBARA,mBASA,GATA,eAWA,+BAXA,mBAYA,GAZA,+CAgBI,kBAjHJ,SAiHA,GACM,OAAN,0DAEI,gBApHJ,WAqHM,KAAN,oBAEI,iBAvHJ,WAwHM,KAAN,oBAEI,UA1HJ,SA0HA,GACM,KAAN,UAEI,mBA7HJ,SA6HA,GACM,OAAN,mBAEI,WAhIJ,SAgIA,GACM,OAAN,oBAGE,QAjLF,WAiLI,IAAJ,OAAI,OAAJ,sJACA,8CADA,aAEA,+DACA,UAGA,wBACA,6BAPA,SASA,yEATA,OAWA,kBACA,yBAGA,kCACA,6CAhBA,gDC5W8V,I,wBCQ1VoB,EAAY,eACd,EACAvG,EACAmF,GACA,EACA,KACA,WACA,MAIa,OAAAoB,E,8BCnBfzG,EAAOC,QAAU,IAA0B,6B,kCCA3C,W","file":"js/chunk-301fe5e6.40eab620.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=68efa989&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/dashboard-placeholder.a928299c.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=style&index=0&id=42291e0a&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/desktop-blue.5f3062c6.svg\";","module.exports = __webpack_public_path__ + \"img/relative-placeholder.911d5812.svg\";","module.exports = __webpack_public_path__ + \"img/facebook-messenger-1.0f6f9acb.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=style&index=0&id=44a3e493&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/envelope-blue.d76ae40e.svg\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=4f2f26aa&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{directives:[{name:\"scroll-lock\",rawName:\"v-scroll-lock\",value:(_vm.isMobile && _vm.isMenuShow),expression:\"isMobile && isMenuShow\"}],class:['edit-memorial__header' ].concat( _vm.classList, [{'open': _vm.isMenuShow}])},[_c('div',{staticClass:\"memorial-header__main main-block\"},[_c('div',{staticClass:\"main-block__controls\"},[_c('div',{staticClass:\"management\",on:{\"click\":function($event){$event.preventDefault();_vm.isShowMemorialMenu = !_vm.isShowMemorialMenu}}},[(_vm.memorial && null !== _vm.memorial.profilePhoto && typeof _vm.memorial.profilePhoto !== 'undefined' && typeof _vm.memorial.profilePhoto.url !== 'undefined')?_c('img',{attrs:{\"src\":_vm.memorial.profilePhoto.url,\"alt\":\"avatar\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/dashboard-placeholder.svg\"),\"alt\":\"avatar\"}}),_c('div',{staticClass:\"management__user\"},[_c('div',{staticClass:\"name\"},[_c('span',[_vm._v(_vm._s(_vm.memorial.name))]),_c('span',{staticClass:\"icon caret\"})]),_c('div',{staticClass:\"years\"},[_c('span',{staticClass:\"birth\"},[_vm._v(_vm._s(_vm._f(\"getYear\")(_vm.memorial.birthDate)))]),_vm._v(\" \"),_c('span',{staticClass:\"separator\"},[_vm._v(\"-\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"getYear\")(_vm.memorial.deathDate)))])])]),(_vm.isShowMemorialMenu)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideMemorialMenu),expression:\"hideMemorialMenu\"},{name:\"scroll-lock\",rawName:\"v-scroll-lock\",value:(_vm.isShowMemorialMenu),expression:\"isShowMemorialMenu\"}],class:['memorial-header__memorial-menu', {'empty': typeof _vm.memorials[0] === 'undefined'}]},[(typeof _vm.memorials[0] !== 'undefined')?_c('div',{class:['memorial-menu__items']},_vm._l((_vm.memorials),function(memorialItem){return _c('div',{key:memorialItem.id,class:['memorial-menu__item', {'selected': memorialItem.id === _vm.memorial.id}],on:{\"click\":function($event){return _vm.selectMemorial(memorialItem)}}},[(null !== memorialItem.profilePhoto && typeof memorialItem.profilePhoto.url !== 'undefined')?_c('img',{attrs:{\"src\":memorialItem.profilePhoto.url,\"alt\":\"avatar\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/dashboard-placeholder.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(memorialItem.name))])])}),0):_vm._e(),(typeof _vm.memorials[0] !== 'undefined')?_c('span',{staticClass:\"separator\"}):_vm._e(),_c('div',{staticClass:\"mobile-menu__item memorial-menu__item add\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createMemorial($event)}}},[_c('span',{staticClass:\"plus-icon\"}),_c('span',{staticClass:\"memorial-add-btn\"},[_vm._v(_vm._s(_vm.$ml.get('editMemorial.menu.memorials.button')))])])]):_vm._e()]),_c('div',{staticClass:\"memorial\",on:{\"click\":function($event){$event.preventDefault();_vm.isShowLinkMenu = !_vm.isShowLinkMenu}}},[('memorial' === this.$route.meta.type)?_c('span',[_vm._v(_vm._s(_vm.$ml.get('editMemorial.header.memorial')))]):_c('span',[_vm._v(_vm._s(_vm.$ml.get('editMemorial.header.dashboard')))]),_c('span',{staticClass:\"icon caret\"}),(_vm.isShowLinkMenu)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideLinkMenu),expression:\"hideLinkMenu\"}],staticClass:\"context-menu memorial-header__menu-context\"},[_c('div',{staticClass:\"context-menu__items\"},[_c('div',{staticClass:\"context-menu__item\",on:{\"click\":_vm.openMemorial}},[_vm._v(_vm._s(_vm.$ml.get('dashboard.header.menu.memorial')))]),_c('router-link',{staticClass:\"context-menu__item\",attrs:{\"tag\":\"div\",\"to\":{name: 'dashboard.show'}}},[_vm._v(_vm._s(_vm.$ml.get('dashboard.header.menu.dashboard')))])],1)]):_vm._e()])]),_c('div',{class:['mobile-menu__hamburger', {'menu-active': _vm.isMenuShow}],on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleMenu($event)}}},[_c('div',{class:['hamburger', {'menu-active': _vm.isMenuShow}]},[_c('span'),_c('span')])]),_c('router-link',{staticClass:\"main-block__logo\",attrs:{\"tag\":\"div\",\"to\":{name: 'home'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/logo.svg\"),\"alt\":\"Eternity\"}})]),_c('div',{staticClass:\"main-block__profile\"},[_c('router-link',{class:['main-block__notification'],attrs:{\"tag\":\"div\",\"to\":{name: 'dashboard.show'}}},[_c('span',{staticClass:\"icon bell-icon\"}),(_vm.countStories > 0)?_c('div',{staticClass:\"count count__bg\"},[_c('span',{staticClass:\"count__value\"},[_vm._v(_vm._s(_vm.countStories))])]):_vm._e()]),(null !== _vm.user && null !== _vm.user.profilePhoto && typeof _vm.user.profilePhoto.url !== 'undefined')?_c('img',{attrs:{\"src\":_vm.user.profilePhoto.url,\"alt\":\"avatar\"},on:{\"click\":function($event){_vm.isShowAvatarMenu = !_vm.isShowAvatarMenu}}}):_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/dashboard-avatar-placeholder.svg\"),\"alt\":\"avatar\"},on:{\"click\":function($event){_vm.isShowAvatarMenu = !_vm.isShowAvatarMenu}}}),(_vm.isShowAvatarMenu)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideAvatarMenu),expression:\"hideAvatarMenu\"}],staticClass:\"context-menu memorial-header__avatar-menu\"},[_c('div',{staticClass:\"context-menu__items\"},[_c('router-link',{staticClass:\"context-menu__item\",attrs:{\"tag\":\"div\",\"to\":{name: 'dashboard.show'}}},[_vm._v(_vm._s(_vm.$ml.get('dashboard.header.menu.dashboard'))+\" \")]),_c('div',{staticClass:\"context-menu__item logout__label\",on:{\"click\":_vm.logout}},[_c('span',{staticClass:\"icon icon__logout logout__icon\"}),_vm._v(\" \"+_vm._s(_vm.$ml.get('dashboard.header.menu.exit'))+\" \")])],1)]):_vm._e()],1)],1),(!_vm.isMenuShow)?_c('div',{staticClass:\"memorial-header__controls controls-block\"},[_c('div',{staticClass:\"controls-block__second\"},[_c('Button',{attrs:{\"classList\":['btn', 'btn-edit', {'btn__third': !_vm.isEditing}, {'btn__primary-2': _vm.isEditing}],\"label\":_vm.$ml.get('editMemorial.header.edit')},on:{\"clicked\":_vm.setEditingBlock}},[_c('span',{class:['icon', 'edit-icon', {'icon__edit-blue': !_vm.isEditing},  {'icon__edit': _vm.isEditing} ],attrs:{\"slot\":\"icon-left\"},slot:\"icon-left\"})]),_c('div',{staticClass:\"memorial-header__platforms\"},[_c('Dropdown',{attrs:{\"defaultText\":_vm.platform,\"items\":_vm.platforms},on:{\"selected\":_vm.selectPlatform}})],1),_c('div',{staticClass:\"memorial-header__languages\"},[_c('Dropdown',{key:_vm.langChanged,attrs:{\"defaultText\":_vm.selectedLanguage.label,\"items\":_vm.languages},on:{\"selected\":_vm.selectLanguage}},[_c('span',{staticClass:\"icon icon__globe-blue\",attrs:{\"slot\":\"dropdown__icon\"},slot:\"dropdown__icon\"})])],1),_c('div',{class:['memorial-header__stories', {'after': !_vm.memorial.paid}]},[_c('span',{staticClass:\"stories__label\"},[_vm._v(_vm._s(_vm.$ml.get('editMemorial.header.stories.label')))]),_c('RelativeList',{key:_vm.memorial.slug,attrs:{\"classList\":['stories__relatives']}}),_c('Button',{attrs:{\"classList\":['btn', 'btn__third', 'btn-story'],\"label\":_vm.$ml.get('editMemorial.header.stories.btn')},on:{\"clicked\":function($event){return _vm.goTo('memorials.story.share', {slug: _vm.memorial.id})}}},[_c('span',{staticClass:\"icon icon__add-blue story-icon\",attrs:{\"slot\":\"icon-left\"},slot:\"icon-left\"})])],1),(!_vm.memorial.paid)?_c('Button',{attrs:{\"classList\":['btn', 'btn__third', 'btn-payment'],\"label\":_vm.$ml.get('editMemorial.header.payment')},on:{\"clicked\":function($event){return _vm.goTo('memorials.payment', {slug: _vm.memorial.id})}}}):_vm._e()],1),_c('div',{staticClass:\"controls-block__main\"},[_c('Button',{attrs:{\"classList\":['btn', 'btn__second', 'btn-preview'],\"label\":_vm.$ml.get('editMemorial.header.preview')},on:{\"clicked\":function($event){return _vm.openPreview()}}}),(!this.memorial.public)?_c('Button',{attrs:{\"classList\":['btn', 'btn__primary', 'btn-publish', {'disabled': !this.memorial || !this.memorial.paid}],\"label\":_vm.$ml.get('editMemorial.header.publish')},on:{\"clicked\":_vm.publishMemorial}}):_vm._e()],1)]):_vm._e(),(_vm.isMenuShow)?_c('div',{staticClass:\"memorial-header__mobile-menu\"},[_c('div',{staticClass:\"mobile-menu__block memorials\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$ml.get('editMemorial.menu.memorials.label')))]),_c('div',{staticClass:\"mobile-menu__items\"},[_vm._l((_vm.memorials),function(memorialItem){return _c('div',{key:memorialItem.id,class:['mobile-menu__item', {'selected': memorialItem.id === _vm.memorial.id}],on:{\"click\":function($event){return _vm.selectMemorial(memorialItem)}}},[(memorialItem.id === _vm.memorial.id)?_c('span',{staticClass:\"icon icon__selected selected-icon\"}):_vm._e(),(null !== memorialItem.profilePhoto && typeof memorialItem.profilePhoto.url !== 'undefined')?_c('img',{attrs:{\"src\":memorialItem.profilePhoto.url,\"alt\":\"avatar\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/dashboard-placeholder.svg\"),\"alt\":\"\"}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(memorialItem.name))])])}),_c('div',{staticClass:\"mobile-menu__item\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createMemorial($event)}}},[_c('span',{staticClass:\"plus-icon\"}),_c('span',[_vm._v(_vm._s(_vm.$ml.get('editMemorial.menu.memorials.button')))])])],2)]),_c('div',{staticClass:\"mobile-menu__block navigation\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$ml.get('editMemorial.menu.navigation.label')))]),_c('div',{staticClass:\"mobile-menu__items\"},[_c('div',{class:['mobile-menu__item', {'selected': 'dashboard' === _vm.$route.meta.type}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.openPage('dashboard')}}},[('dashboard' === _vm.$route.meta.type)?_c('span',{staticClass:\"icon icon__selected selected-icon\"}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.$ml.get('editMemorial.menu.navigation.dashboard')))])]),_c('div',{class:['mobile-menu__item', {'selected': 'memorial' === _vm.$route.meta.type}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.openPage('memorial')}}},[('memorial' === _vm.$route.meta.type)?_c('span',{staticClass:\"icon icon__selected selected-icon\"}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.$ml.get('editMemorial.menu.navigation.memorial')))])])])]),_c('div',{staticClass:\"mobile-menu__block relatives\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$ml.get('editMemorial.menu.relatives.label')))]),_c('div',{staticClass:\"relatives__content\"},[_c('RelativeList'),_c('div',{staticClass:\"relatives__share\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$ml.get('create.memorial.step2.form.title')))]),_c('div',{staticClass:\"relatives-share__content\"},[_c('span',{staticClass:\"relatives-share__label\"},[_vm._v(_vm._s(_vm.$ml.get('create.memorial.step2.form.input.description')))]),_c('div',{staticClass:\"relatives-share__text\",attrs:{\"contenteditable\":\"true\"},on:{\"input\":_vm.saveText}},[_vm._v(\" \"+_vm._s(_vm.form.text)+\" \")]),_c('a',{ref:\"link\",staticClass:\"relatives-share__memorial-link\"},[_vm._v(_vm._s(_vm.form.link))]),_c('Button',{attrs:{\"classList\":['btn', 'btn__primary-2', 'relatives-share__copy-btn'],\"label\":_vm.$ml.get('create.memorial.step2.form.buttons.copy')},on:{\"clicked\":_vm.copyLink}},[_c('img',{attrs:{\"slot\":\"icon-left\",\"src\":require(\"@/assets/img/icon/form-paper.svg\"),\"alt\":\"\"},slot:\"icon-left\"})])],1),_c('div',{staticClass:\"relatives-share__links\"},[_c('span',[_vm._v(_vm._s(_vm.$ml.get('create.memorial.step2.form.contacts.label')))]),_c('a',{staticClass:\"relatives-share__link\",attrs:{\"target\":\"_blank\",\"href\":_vm.fbShareUrl}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/facebook.svg\"),\"alt\":\"\"}})]),_c('a',{staticClass:\"relatives-share__link\",attrs:{\"target\":\"_blank\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.shareToMessenger()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/facebook-messenger-1.svg\"),\"alt\":\"\"}})]),_c('a',{staticClass:\"relatives-share__link\",attrs:{\"target\":\"_blank\",\"href\":(\"whatsapp://send?text=\" + (encodeURIComponent(_vm.shareText + '\\n' + _vm.form.link))),\"data-action\":\"share/whatsapp/share\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/whatsapp.svg\"),\"alt\":\"\"}})]),_c('a',{staticClass:\"relatives-share__link\",attrs:{\"target\":\"_blank\",\"href\":(\"mailto:?body=\" + (encodeURIComponent(_vm.shareText + '\\n' + _vm.form.link)))}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/envelope-blue.svg\"),\"alt\":\"\"}})])])])],1)]),_c('div',{staticClass:\"mobile-menu__block language\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$ml.get('editMemorial.menu.language.label')))]),_c('div',{staticClass:\"mobile-menu__items\"},_vm._l((_vm.$ml.list),function(lang){return _c('div',{key:lang,class:['mobile-menu__item', {'selected': lang === _vm.$ml.current}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.changeLang(lang)}}},[(lang === _vm.$ml.current)?_c('span',{staticClass:\"icon icon__selected selected-icon\"}):_vm._e(),('he' === lang)?_c('span',[_vm._v(\"עברית\")]):_c('span',[_vm._v(\"English\")])])}),0)]),_c('div',{staticClass:\"mobile-menu__block logout\"},[_c('div',{staticClass:\"mobile-menu__items\"},[_c('div',{class:['mobile-menu__item'],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.logout($event)}}},[_c('span',{staticClass:\"icon icon__logout logout__icon\"}),_c('span',{staticClass:\"logout-label\"},[_vm._v(_vm._s(_vm.$ml.get('dashboard.header.menu.exit')))])])])]),_c('div',{staticClass:\"memorial-header__bottom-nav\"},[_c('div',{staticClass:\"menu__title\"},[_vm._v(_vm._s(_vm.$ml.get('menu.contacts')))]),_c('div',{staticClass:\"menu__conection\"},[_c('div',{staticClass:\"menu__conection-item\"},[_c('a',{staticClass:\"menu__relink\",attrs:{\"href\":_vm.$ml.get('contacts.email.url')}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/menu-envelope.svg\"),\"alt\":\"\"}})]),_c('span',[_vm._v(_vm._s(_vm.$ml.get('contacts.email.text')))])]),_c('div',{staticClass:\"menu__conection-item\"},[_c('a',{staticClass:\"menu__relink\",attrs:{\"href\":_vm.$ml.get('contacts.phone.url')}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/menu-phone.svg\"),\"alt\":\"\"}})]),_c('span',[_vm._v(_vm._s(_vm.$ml.get('contacts.phone.text')))])]),_c('div',{staticClass:\"menu__conection-item\"},[_c('a',{staticClass:\"menu__relink\",attrs:{\"href\":_vm.$ml.get('contacts.whatsapp.url')}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/menu-whatsap.svg\"),\"alt\":\"\"}})]),_c('span',[_vm._v(_vm._s(_vm.$ml.get('contacts.whatsapp.text')))])])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['relative-list' ].concat( _vm.classList)},[_vm._l((_vm.relativeUsers.data),function(relative){return _c('div',{staticClass:\"relative-list__item\"},[((typeof relative.profilePhoto !== 'undefined' && null !== relative.profilePhoto) && 'ready' === relative.profilePhoto.status && relative.profilePhoto.url.length > 0)?_c('img',{attrs:{\"src\":relative.profilePhoto.url,\"alt\":\"relative\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/relative-placeholder.svg\"),\"alt\":\"\"}})])}),(_vm.relativeUsers.count - 6 > 1)?_c('div',{staticClass:\"relative-list__item count\"},[_c('span',[_vm._v(_vm._s(_vm.relativeUsers.count - 6))]),_c('span',{staticClass:\"count-plus\"},[_vm._v(\"+\")])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :class=\"['relative-list', ...classList]\">\r\n    <div class=\"relative-list__item\" v-for=\"relative in relativeUsers.data\">\r\n      <img v-if=\"(typeof relative.profilePhoto !== 'undefined' && null !== relative.profilePhoto) && 'ready' === relative.profilePhoto.status && relative.profilePhoto.url.length > 0\" :src=\"relative.profilePhoto.url\" alt=\"relative\">\r\n      <img v-else src=\"~@/assets/img/icon/relative-placeholder.svg\" alt=\"\">\r\n    </div>\r\n\r\n    <div class=\"relative-list__item count\" v-if=\"relativeUsers.count - 6 > 1\">\r\n      <span>{{ relativeUsers.count - 6 }}</span><span class=\"count-plus\">+</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"RelativeList\",\r\n  props: {\r\n    relatives: {\r\n      type: [Array, Object],\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    classList: {\r\n      type: [Array, String],\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      memorial: 'dashboard/currentMemorial',\r\n    }),\r\n  },\r\n  data() {\r\n    return {\r\n      relativeUsers: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    let relatives = [];\r\n    if(typeof this.memorial.relations !== 'undefined') {\r\n      relatives = this.memorial.relations.map(relation => {\r\n        relation.user['relationToMemorialPerson'] = relation.relationToMemorialPerson;\r\n        return relation.user;\r\n      });\r\n    }\r\n\r\n    this.relativeUsers = {\r\n      count: relatives.length,\r\n      data: relatives.splice(0, 6),\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"~@/assets/scss/components/relative-list.scss\";\r\n</style>>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelativeList.vue?vue&type=template&id=1b9bc744&scoped=true&\"\nimport script from \"./RelativeList.vue?vue&type=script&lang=js&\"\nexport * from \"./RelativeList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RelativeList.vue?vue&type=style&index=0&id=1b9bc744&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b9bc744\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.onClickOutside),expression:\"onClickOutside\"}],staticClass:\"dropdown\"},[_c('div',{staticClass:\"dropdown__btn\",on:{\"click\":function($event){_vm.isOpen = !_vm.isOpen}}},[_vm._t(\"dropdown__icon\"),_c('div',{staticClass:\"dropdown__text\"},[_vm._t(\"dropdown__text\",[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.text)}})])],2),_c('span',{class:['icon', 'caret', 'dropdown__caret', {'open': _vm.isOpen}]})],2),(_vm.isOpen)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.onClickOutside),expression:\"onClickOutside\"}],staticClass:\"dropdown__items\"},_vm._l((_vm.items),function(item){return _c('div',{key:item.value,staticClass:\"dropdown__item\",on:{\"click\":function($event){$event.preventDefault();return _vm.selectItem(item)}}},[_c('div',{staticClass:\"dropdown__text\",on:{\"click\":function($event){$event.preventDefault();return _vm.selectItem(item)}}},[(typeof item.options !== 'undefined' && typeof item.options.tag !== 'undefined' && 'img' === item.options.tag)?_c('img',{attrs:{\"src\":item.options.src}}):_c('span',{domProps:{\"innerHTML\":_vm._s(item.label)}})])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"dropdown\" v-click-outside=\"onClickOutside\">\r\n\r\n    <div class=\"dropdown__btn\" @click=\"isOpen = !isOpen\">\r\n      <slot name=\"dropdown__icon\"></slot>\r\n      <div class=\"dropdown__text\">\r\n        <slot name=\"dropdown__text\">\r\n          <div v-html=\"text\"></div>\r\n        </slot>\r\n      </div>\r\n      <span :class=\"['icon', 'caret', 'dropdown__caret', {'open': isOpen}]\"></span>\r\n    </div>\r\n\r\n    <div class=\"dropdown__items\" v-if=\"isOpen\" v-click-outside=\"onClickOutside\">\r\n      <div class=\"dropdown__item\" v-for=\"item in items\" :key=\"item.value\" @click.prevent=\"selectItem(item)\">\r\n        <div @click.prevent=\"selectItem(item)\" class=\"dropdown__text\">\r\n          <img v-if=\"typeof item.options !== 'undefined' && typeof item.options.tag !== 'undefined' && 'img' === item.options.tag\" :src=\"item.options.src\">\r\n          <span v-else v-html=\"item.label\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Dropdown\",\r\n  props: {\r\n    /**\r\n     * items: [\r\n     *  item: {\r\n     *    label: '',\r\n     *    value: '',\r\n     *  }\r\n     * ]\r\n     */\r\n    items: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    defaultText: {\r\n      type: [String, Object],\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isOpen: false,\r\n      text: '',\r\n    };\r\n  },\r\n  methods: {\r\n    renderTextFromOptions(options) {\r\n      if(typeof options.tag !== 'undefined') {\r\n        switch (options.tag) {\r\n          case \"img\":\r\n            return `<img src=\"${options.src}\" />`;\r\n        }\r\n      }\r\n      return '';\r\n    },\r\n    selectItem(item) {\r\n      if(typeof item.options !== 'undefined') {\r\n        this.text = this.renderTextFromOptions(item.options);\r\n      } else {\r\n        this.text = item.label;\r\n      }\r\n\r\n\r\n      this.$emit('selected', item);\r\n      this.isOpen = false;\r\n    },\r\n    onClickOutside() {\r\n      this.isOpen = false;\r\n    },\r\n  },\r\n  mounted() {\r\n    if(typeof this.defaultText === 'object' && typeof this.defaultText.options !== 'undefined') {\r\n      this.text = this.renderTextFromOptions(this.defaultText.options);\r\n    } else {\r\n      if(this.defaultText.length > 0) {\r\n        this.text = this.defaultText;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"~@/assets/scss/components/dropdown.scss\";\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dropdown.vue?vue&type=template&id=42291e0a&scoped=true&\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dropdown.vue?vue&type=style&index=0&id=42291e0a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42291e0a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <header :class=\"['edit-memorial__header', ...classList, {'open': isMenuShow}]\"\r\n          v-scroll-lock=\"isMobile && isMenuShow\">\r\n    <div class=\"memorial-header__main main-block\">\r\n      <div class=\"main-block__controls\">\r\n        <div class=\"management\"  @click.prevent=\"isShowMemorialMenu = !isShowMemorialMenu\">\r\n          <img\r\n              v-if=\"memorial && null !== memorial.profilePhoto && typeof memorial.profilePhoto !== 'undefined' && typeof memorial.profilePhoto.url !== 'undefined'\"\r\n              :src=\"memorial.profilePhoto.url\"\r\n              alt=\"avatar\"\r\n          >\r\n          <img\r\n              v-else\r\n              src=\"~@/assets/img/icon/dashboard-placeholder.svg\"\r\n              alt=\"avatar\"\r\n          >\r\n\r\n          <div class=\"management__user\">\r\n            <div class=\"name\">\r\n              <span>{{ memorial.name }}</span>\r\n              <span class=\"icon caret\"></span>\r\n            </div>\r\n            <div class=\"years\"><span class=\"birth\">{{ memorial.birthDate | getYear }}</span> <span class=\"separator\">-</span> <span>{{ memorial.deathDate | getYear }}</span></div>\r\n          </div>\r\n\r\n          <div\r\n              :class=\"['memorial-header__memorial-menu', {'empty': typeof memorials[0] === 'undefined'}]\"\r\n              v-click-outside=\"hideMemorialMenu\"\r\n              v-scroll-lock=\"isShowMemorialMenu\"\r\n              v-if=\"isShowMemorialMenu\"\r\n          >\r\n              <div :class=\"['memorial-menu__items']\" v-if=\"typeof memorials[0] !== 'undefined'\">\r\n                <div\r\n                    :class=\"['memorial-menu__item', {'selected': memorialItem.id === memorial.id}]\"\r\n                    v-for=\"memorialItem in memorials\"\r\n                    :key=\"memorialItem.id\"\r\n                    @click=\"selectMemorial(memorialItem)\"\r\n                >\r\n<!--                  <span class=\"icon icon__selected selected-icon\" v-if=\"memorialItem.id === memorial.id\"></span>-->\r\n                  <img\r\n                      v-if=\"null !== memorialItem.profilePhoto && typeof memorialItem.profilePhoto.url !== 'undefined'\"\r\n                      :src=\"memorialItem.profilePhoto.url\"\r\n                      alt=\"avatar\"\r\n                  >\r\n                  <img v-else src=\"~@/assets/img/icon/dashboard-placeholder.svg\" alt=\"\">\r\n                  <span>{{ memorialItem.name }}</span>\r\n                </div>\r\n              </div>\r\n\r\n            <span class=\"separator\"  v-if=\"typeof memorials[0] !== 'undefined'\"></span>\r\n\r\n            <div class=\"mobile-menu__item memorial-menu__item add\" @click.prevent.stop=\"createMemorial\">\r\n              <span class=\"plus-icon\"></span>\r\n              <span class=\"memorial-add-btn\">{{ $ml.get('editMemorial.menu.memorials.button') }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"memorial\" @click.prevent=\"isShowLinkMenu = !isShowLinkMenu\">\r\n          <span v-if=\"'memorial' === this.$route.meta.type\">{{ $ml.get('editMemorial.header.memorial') }}</span>\r\n          <span v-else>{{ $ml.get('editMemorial.header.dashboard') }}</span>\r\n\r\n          <span class=\"icon caret\"></span>\r\n\r\n          <div\r\n              class=\"context-menu memorial-header__menu-context\"\r\n              v-click-outside=\"hideLinkMenu\"\r\n              v-if=\"isShowLinkMenu\"\r\n          >\r\n            <div class=\"context-menu__items\">\r\n              <div class=\"context-menu__item\" @click=\"openMemorial\">{{$ml.get('dashboard.header.menu.memorial') }}</div>\r\n              <router-link tag=\"div\" :to=\"{name: 'dashboard.show'}\" class=\"context-menu__item\">{{$ml.get('dashboard.header.menu.dashboard') }}</router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div :class=\"['mobile-menu__hamburger', {'menu-active': isMenuShow}]\" @click.stop.prevent=\"toggleMenu\">\r\n        <div :class=\"['hamburger', {'menu-active': isMenuShow}]\">\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n      </div>\r\n\r\n      <router-link tag=\"div\" class=\"main-block__logo\" :to=\"{name: 'home'}\">\r\n        <img src=\"~@/assets/img/logo.svg\" alt=\"Eternity\">\r\n      </router-link>\r\n\r\n      <div class=\"main-block__profile\">\r\n        <router-link tag=\"div\" :to=\"{name: 'dashboard.show'}\" :class=\"['main-block__notification']\">\r\n          <span class=\"icon bell-icon\"></span>\r\n          <div class=\"count count__bg\" v-if=\"countStories > 0\">\r\n            <span class=\"count__value\">{{ countStories }}</span>\r\n          </div>\r\n        </router-link>\r\n\r\n        <img\r\n            v-if=\"null !== user && null !== user.profilePhoto && typeof user.profilePhoto.url !== 'undefined'\"\r\n            :src=\"user.profilePhoto.url\"\r\n            alt=\"avatar\"\r\n            @click=\"isShowAvatarMenu = !isShowAvatarMenu\"\r\n        >\r\n        <img\r\n            v-else\r\n            src=\"~@/assets/img/icon/dashboard-avatar-placeholder.svg\"\r\n            alt=\"avatar\"\r\n            @click=\"isShowAvatarMenu = !isShowAvatarMenu\"\r\n        >\r\n\r\n        <div\r\n            class=\"context-menu memorial-header__avatar-menu\"\r\n            v-click-outside=\"hideAvatarMenu\"\r\n            v-if=\"isShowAvatarMenu\"\r\n        >\r\n          <div class=\"context-menu__items\">\r\n            <router-link tag=\"div\" :to=\"{name: 'dashboard.show'}\" class=\"context-menu__item\">{{ $ml.get('dashboard.header.menu.dashboard') }}\r\n            </router-link>\r\n\r\n            <div class=\"context-menu__item logout__label\" @click=\"logout\">\r\n              <span class=\"icon icon__logout logout__icon\"></span>\r\n              {{ $ml.get('dashboard.header.menu.exit') }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"memorial-header__controls controls-block\" v-if=\"!isMenuShow\">\r\n      <div class=\"controls-block__second\">\r\n        <Button\r\n            :classList=\"['btn', 'btn-edit', {'btn__third': !isEditing}, {'btn__primary-2': isEditing}]\"\r\n            :label=\"$ml.get('editMemorial.header.edit')\"\r\n            @clicked=\"setEditingBlock\"\r\n        >\r\n                    <span slot=\"icon-left\"\r\n                          :class=\"['icon', 'edit-icon', {'icon__edit-blue': !isEditing},  {'icon__edit': isEditing}, ]\"></span>\r\n        </Button>\r\n\r\n        <div class=\"memorial-header__platforms\">\r\n          <Dropdown\r\n              :defaultText=\"platform\"\r\n              :items=\"platforms\"\r\n              @selected=\"selectPlatform\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"memorial-header__languages\">\r\n          <Dropdown\r\n              :defaultText=\"selectedLanguage.label\"\r\n              :items=\"languages\"\r\n              @selected=\"selectLanguage\"\r\n              :key=\"langChanged\"\r\n          >\r\n            <span slot=\"dropdown__icon\" class=\"icon icon__globe-blue\"></span>\r\n          </Dropdown>\r\n        </div>\r\n\r\n        <div :class=\"['memorial-header__stories', {'after': !memorial.paid}]\">\r\n          <span class=\"stories__label\">{{ $ml.get('editMemorial.header.stories.label') }}</span>\r\n\r\n          <RelativeList\r\n              :classList=\"['stories__relatives']\"\r\n              :key=\"memorial.slug\"\r\n          />\r\n\r\n          <Button\r\n              :classList=\"['btn', 'btn__third', 'btn-story']\"\r\n              :label=\"$ml.get('editMemorial.header.stories.btn')\"\r\n              @clicked=\"goTo('memorials.story.share', {slug: memorial.id})\"\r\n          >\r\n            <span slot=\"icon-left\" class=\"icon icon__add-blue story-icon\"></span>\r\n          </Button>\r\n        </div>\r\n\r\n        <Button\r\n            v-if=\"!memorial.paid\"\r\n            :classList=\"['btn', 'btn__third', 'btn-payment']\"\r\n            :label=\"$ml.get('editMemorial.header.payment')\"\r\n            @clicked=\"goTo('memorials.payment', {slug: memorial.id})\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"controls-block__main\">\r\n        <Button\r\n            :classList=\"['btn', 'btn__second', 'btn-preview']\"\r\n            :label=\"$ml.get('editMemorial.header.preview')\"\r\n            @clicked=\"openPreview()\"\r\n        />\r\n\r\n        <Button\r\n            v-if=\"!this.memorial.public\"\r\n            :classList=\"['btn', 'btn__primary', 'btn-publish', {'disabled': !this.memorial || !this.memorial.paid}]\"\r\n            :label=\"$ml.get('editMemorial.header.publish')\"\r\n            @clicked=\"publishMemorial\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"memorial-header__mobile-menu\" v-if=\"isMenuShow\">\r\n      <div class=\"mobile-menu__block memorials\">\r\n        <span class=\"label\">{{ $ml.get('editMemorial.menu.memorials.label') }}</span>\r\n        <div class=\"mobile-menu__items\">\r\n          <div\r\n              :class=\"['mobile-menu__item', {'selected': memorialItem.id === memorial.id}]\"\r\n              v-for=\"memorialItem in memorials\"\r\n              :key=\"memorialItem.id\"\r\n              @click=\"selectMemorial(memorialItem)\"\r\n          >\r\n            <span class=\"icon icon__selected selected-icon\" v-if=\"memorialItem.id === memorial.id\"></span>\r\n            <img\r\n                v-if=\"null !== memorialItem.profilePhoto && typeof memorialItem.profilePhoto.url !== 'undefined'\"\r\n                :src=\"memorialItem.profilePhoto.url\"\r\n                alt=\"avatar\"\r\n            >\r\n            <img v-else src=\"~@/assets/img/icon/dashboard-placeholder.svg\" alt=\"\">\r\n            <span class=\"name\">{{ memorialItem.name }}</span>\r\n          </div>\r\n\r\n          <div class=\"mobile-menu__item\" @click.prevent.stop=\"createMemorial\">\r\n            <span class=\"plus-icon\"></span>\r\n            <span>{{ $ml.get('editMemorial.menu.memorials.button') }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mobile-menu__block navigation\">\r\n        <span class=\"label\">{{ $ml.get('editMemorial.menu.navigation.label') }}</span>\r\n\r\n        <div class=\"mobile-menu__items\">\r\n          <div :class=\"['mobile-menu__item', {'selected': 'dashboard' === $route.meta.type}]\" @click.prevent.stop=\"openPage('dashboard')\">\r\n            <span class=\"icon icon__selected selected-icon\" v-if=\"'dashboard' === $route.meta.type\"></span>\r\n            <span>{{ $ml.get('editMemorial.menu.navigation.dashboard') }}</span>\r\n          </div>\r\n          <div :class=\"['mobile-menu__item', {'selected': 'memorial' === $route.meta.type}]\" @click.prevent.stop=\"openPage('memorial')\">\r\n            <span class=\"icon icon__selected selected-icon\" v-if=\"'memorial' === $route.meta.type\"></span>\r\n            <span>{{ $ml.get('editMemorial.menu.navigation.memorial') }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mobile-menu__block relatives\">\r\n        <span class=\"label\">{{ $ml.get('editMemorial.menu.relatives.label') }}</span>\r\n\r\n        <div class=\"relatives__content\">\r\n          <RelativeList />\r\n\r\n          <div class=\"relatives__share\">\r\n            <span class=\"label\">{{ $ml.get('create.memorial.step2.form.title') }}</span>\r\n\r\n            <div class=\"relatives-share__content\">\r\n              <span class=\"relatives-share__label\">{{ $ml.get('create.memorial.step2.form.input.description') }}</span>\r\n\r\n              <div class=\"relatives-share__text\" @input=\"saveText\" contenteditable=\"true\">\r\n                {{ form.text }}\r\n              </div>\r\n\r\n              <a class=\"relatives-share__memorial-link\" ref=\"link\">{{ form.link }}</a>\r\n\r\n              <Button\r\n                  :classList=\"['btn', 'btn__primary-2', 'relatives-share__copy-btn']\"\r\n                  :label=\"$ml.get('create.memorial.step2.form.buttons.copy')\"\r\n                  @clicked=\"copyLink\"\r\n              >\r\n                <img slot=\"icon-left\" src=\"~@/assets/img/icon/form-paper.svg\" alt=\"\">\r\n              </Button>\r\n            </div>\r\n\r\n            <div class=\"relatives-share__links\">\r\n              <span>{{ $ml.get('create.memorial.step2.form.contacts.label') }}</span>\r\n              <a\r\n                  target=\"_blank\"\r\n                  :href=\"fbShareUrl\"\r\n                  class=\"relatives-share__link\"\r\n              >\r\n                <img src=\"~@/assets/img/icon/facebook.svg\" alt=\"\">\r\n              </a>\r\n              <a\r\n                  target=\"_blank\"\r\n                  class=\"relatives-share__link\"\r\n                  href=\"#\"\r\n                  @click.prevent=\"shareToMessenger()\"\r\n              >\r\n                <img src=\"~@/assets/img/icon/facebook-messenger-1.svg\" alt=\"\">\r\n              </a>\r\n              <a\r\n                  target=\"_blank\"\r\n                  :href=\"`whatsapp://send?text=${encodeURIComponent(shareText + '\\n' + form.link)}`\"\r\n                  class=\"relatives-share__link\"\r\n                  data-action=\"share/whatsapp/share\"\r\n              >\r\n                <img src=\"~@/assets/img/icon/whatsapp.svg\" alt=\"\">\r\n              </a>\r\n              <a\r\n                  target=\"_blank\"\r\n                  :href=\"`mailto:?body=${encodeURIComponent(shareText + '\\n' + form.link)}`\"\r\n                  class=\"relatives-share__link\"\r\n              >\r\n                <img src=\"~@/assets/img/icon/envelope-blue.svg\" alt=\"\">\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mobile-menu__block language\">\r\n        <span class=\"label\">{{ $ml.get('editMemorial.menu.language.label') }}</span>\r\n\r\n        <div class=\"mobile-menu__items\">\r\n          <div :class=\"['mobile-menu__item', {'selected': lang === $ml.current}]\" v-for=\"lang in $ml.list\" :key=\"lang\"\r\n               @click.prevent.stop=\"changeLang(lang)\">\r\n            <span class=\"icon icon__selected selected-icon\" v-if=\"lang === $ml.current\"></span>\r\n            <span v-if=\"'he' === lang\">עברית</span>\r\n            <span v-else>English</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mobile-menu__block logout\">\r\n        <div class=\"mobile-menu__items\">\r\n          <div :class=\"['mobile-menu__item']\" @click.prevent.stop=\"logout\">\r\n            <span class=\"icon icon__logout logout__icon\"></span>\r\n            <span class=\"logout-label\">{{ $ml.get('dashboard.header.menu.exit') }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"memorial-header__bottom-nav\">\r\n        <div class=\"menu__title\">{{ $ml.get('menu.contacts') }}</div>\r\n        <div class=\"menu__conection\">\r\n          <div class=\"menu__conection-item\">\r\n            <a class=\"menu__relink\" :href=\"$ml.get('contacts.email.url')\">\r\n              <img src=\"~@/assets/img/icon/menu-envelope.svg\" alt=\"\">\r\n            </a>\r\n            <span>{{ $ml.get('contacts.email.text') }}</span>\r\n          </div>\r\n          <div class=\"menu__conection-item\">\r\n            <a class=\"menu__relink\" :href=\"$ml.get('contacts.phone.url')\">\r\n              <img src=\"~@/assets/img/icon/menu-phone.svg\" alt=\"\">\r\n            </a>\r\n            <span>{{ $ml.get('contacts.phone.text') }}</span>\r\n\r\n          </div>\r\n          <div class=\"menu__conection-item\">\r\n            <a class=\"menu__relink\" :href=\"$ml.get('contacts.whatsapp.url')\">\r\n              <img src=\"~@/assets/img/icon/menu-whatsap.svg\" alt=\"\">\r\n            </a>\r\n            <span>{{ $ml.get('contacts.whatsapp.text') }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport {EventBus} from '@/utils/EventBus';\r\n\r\nimport RelativeList from \"@/components/RelativeList\";\r\nimport Button from \"@/components/Button\";\r\nimport Dropdown from \"@/components/Dropdown\";\r\nimport {mapGetters} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Header\",\r\n  components: {\r\n    Button,\r\n    Dropdown,\r\n    RelativeList,\r\n  },\r\n  props: {\r\n    classList: {\r\n      type: [Array, String],\r\n      default: '',\r\n    },\r\n    user: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    previewRoute: {\r\n      type: String,\r\n      default() {\r\n        return null;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isEditing: false,\r\n      isMenuShow: false,\r\n      langChanged: false,\r\n      isShowAvatarMenu: false,\r\n      isShowLinkMenu: false,\r\n      isShowMemorialMenu: false,\r\n\r\n      platform: {\r\n        value: 'desktop',\r\n        label: '',\r\n        options: {\r\n          tag: 'img',\r\n          src: require('@/assets/img/icon/desktop-blue.svg')\r\n        },\r\n      },\r\n\r\n      selectedLanguage: {\r\n        value: 'en',\r\n        label: 'English',\r\n      },\r\n\r\n      languages: [\r\n        {\r\n          value: 'he',\r\n          label: 'עברית',\r\n        },\r\n        {\r\n          value: 'en',\r\n          label: 'English',\r\n        },\r\n      ],\r\n\r\n      platforms: [\r\n        {\r\n          value: 'desktop',\r\n          label: '',\r\n          options: {\r\n            tag: 'img',\r\n            src: require('@/assets/img/icon/desktop-blue.svg')\r\n          },\r\n        },\r\n        {\r\n          value: 'mobile',\r\n          label: '',\r\n          options: {\r\n            tag: 'img',\r\n            src: require('@/assets/img/icon/mobile-blue.svg')\r\n          },\r\n        },\r\n      ],\r\n      form: {\r\n        text: '',\r\n        link: '',\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    openMemorial() {\r\n      let routeData = this.$router.resolve(  {name: 'memorials.edit', params: {id: this.memorial.id}});\r\n      window.open(routeData.href, '_self');\r\n    },\r\n    openPreview() {\r\n      if(this.previewRoute) {\r\n        this.goTo(this.previewRoute, {slug: this.memorial.slug})\r\n      }\r\n      else {\r\n        // this.goTo('memorials.show', {slug: this.memorial.id})\r\n\r\n        let routeData = this.$router.resolve(  {name: 'memorials.show', params: {slug: this.memorial.id}});\r\n\r\n        window.open(routeData.href, '_self');\r\n      }\r\n    },\r\n    hideAvatarMenu() {\r\n      this.isShowAvatarMenu = false;\r\n    },\r\n    hideLinkMenu() {\r\n      this.isShowLinkMenu = false;\r\n    },\r\n    hideMemorialMenu() {\r\n      this.isShowMemorialMenu = false;\r\n    },\r\n    selectPlatform(platform) {\r\n      this.selectedPlatform = platform;\r\n\r\n      this.$emit('changePlatform', this.selectedPlatform.value);\r\n    },\r\n    selectLanguage(language) {\r\n      this.selectedLanguage = language;\r\n      this.langChanged = !this.langChanged;\r\n\r\n      const $editMemorial = document.getElementById('edit-memorial');\r\n      if (null !== $editMemorial) {\r\n        $editMemorial.setAttribute('dir', 'he' === this.selectedLanguage.value ? 'rtl' : 'ltr');\r\n      }\r\n\r\n      this.$emit('changeLanguage', this.selectedLanguage.value);\r\n    },\r\n    findLanguage() {\r\n      this.selectedLanguage = this.languages.find(language => language.value === this.$ml.current);\r\n      this.langChanged = true;\r\n    },\r\n    toggleMenu(event) {\r\n      event.stopPropagation();\r\n\r\n      this.isMenuShow = !this.isMenuShow;\r\n    },\r\n    setEditingBlock() {\r\n      this.$emit('setEditingBlock', {block: 'default', isEdit: !this.isEditing});\r\n    },\r\n    publishMemorial() {\r\n      if (this.memorial && this.memorial.paid) {\r\n        const payload = {\r\n          memorialId: this.memorial.id,\r\n          editVersion: this.memorial.editVersion,\r\n        };\r\n\r\n        this.$store.dispatch('dashboard/publishMemorial', payload);\r\n      }\r\n    },\r\n    goTo(route, params = null,) {\r\n      this.$router.push({name: route, params});\r\n    },\r\n    logout() {\r\n      this.$store.dispatch('auth/logout');\r\n      this.$router.push({name: 'home'});\r\n    },\r\n    changeLang(lang) {\r\n      this.$ml.change(lang);\r\n      document.documentElement.setAttribute('lang', lang);\r\n      document.documentElement.setAttribute('dir', 'he' === lang ? 'rtl' : 'ltr');\r\n    },\r\n    createMemorial() {\r\n      this.$router.push({name: 'memorials.create.welcome'});\r\n    },\r\n    async selectMemorial(memorial) {\r\n      await this.$store.dispatch('dashboard/setCurrentMemorial', memorial.id);\r\n      if(this.$route.meta.type === 'memorial') {\r\n        await this.$router.push({name: 'memorials.edit', params: {id: memorial.id}});\r\n      }\r\n\r\n      this.sortMemorials();\r\n\r\n      //close menu\r\n      // this.isMenuShow = false;\r\n    },\r\n    async openPage(type) {\r\n      if(('memorial' === this.$route.meta.type && 'memorial' === type) || ('dashboard' === this.$route.meta.type && 'dashboard' === type)) {\r\n        return;\r\n      }\r\n\r\n      if('memorial' === type) {\r\n        await this.openMemorial();\r\n      }\r\n\r\n      if('dashboard' === type) {\r\n        await this.$router.push({name: 'dashboard.show'});\r\n      }\r\n    },\r\n    shareToMessenger() {\r\n      let routeData = this.$router.resolve({name: 'memorials.story.share', params: {slug: this.memorial.slug}});\r\n\r\n      let url = window.mobileCheck()\r\n          ? `fb-messenger://share?link=${encodeURIComponent(this.form.link)}`\r\n          : `https://www.facebook.com/dialog/send?app_id=${process.env.VUE_APP_FB_APP_ID}&display=popup&link=${encodeURIComponent(this.form.link)}&msg=${encodeURIComponent(this.shareText)}&redirect_uri=${encodeURIComponent(window.location.origin + routeData.href)}`\r\n\r\n      window.open(url, '_blank');\r\n    },\r\n    saveText(event) {\r\n      this.$store.dispatch('memorial/saveShareText', event.target.innerText);\r\n    },\r\n    copyLink() {\r\n      navigator.clipboard.writeText(this.form.link);\r\n    },\r\n    sortMemorials() {\r\n      this.$store.dispatch('dashboard/sortMemorialsByCurrent', this.memorial.id);\r\n    },\r\n  },\r\n  computed: {\r\n    isMobile() {\r\n      return window.innerWidth < 768;\r\n    },\r\n    fbShareUrl() {\r\n      let routeData = this.$router.resolve({name: 'memorials.story.share', params: {slug: this.memorial.slug}});\r\n\r\n      return `https://www.facebook.com/dialog/share?app_id=${process.env.VUE_APP_FB_APP_ID}&display=popup&href=${encodeURIComponent(this.form.link)}&quote=${encodeURIComponent(this.shareText)}&redirect_uri=${encodeURIComponent(window.location.origin + routeData.href)}`;\r\n    },\r\n    ...mapGetters({\r\n      memorials: 'dashboard/memorials',\r\n      memorial: 'dashboard/currentMemorial',\r\n      shareText: 'memorial/getShareText',\r\n    }),\r\n    countStories() {\r\n      return this.$store.getters['dashboard/countStories'](this.memorial.id);\r\n    },\r\n  },\r\n  watch: {\r\n    'memorial.slug'(slug) {\r\n      this.form.text = this.$ml.with('name', this.memorial.name).get('create.memorial.step2.form.input.text');\r\n      this.$store.dispatch('story/saveShareText', this.form.text);\r\n\r\n      this.form.link = `${window.location.origin}/memorials/${slug}/share`;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.findLanguage();\r\n\r\n    let _this = this;\r\n    EventBus.$on('memorial-edit', (isEditing) => {\r\n      _this.isEditing = isEditing;\r\n    });\r\n\r\n    //set share text\r\n    this.form.link = `${window.location.origin}/memorials/${this.memorial.slug}/share`;\r\n\r\n    if(!this.shareText) {\r\n      this.form.text = this.$ml.with('name', this.memorial.name).get('create.memorial.step2.form.input.text');\r\n      this.$store.dispatch('story/saveShareText', this.form.text);\r\n    } else {\r\n      this.form.text = this.shareText;\r\n    }\r\n  },\r\n  async created() {\r\n    await this.$store.dispatch('dashboard/resetMemorials');\r\n    await this.$store.dispatch('dashboard/memorials');\r\n\r\n    if(this.memorials.length === 0) {\r\n      await this.$router.push({name: 'memorials.create.welcome'});\r\n    }\r\n\r\n    if(Object.keys(this.memorial).length === 0) {\r\n      if(typeof this.memorials[0] !== 'undefined' && typeof this.memorials[0].id !== 'undefined') {\r\n        await this.$store.dispatch('dashboard/setCurrentMemorial', this.memorials[0].id);\r\n      }\r\n    } else {\r\n      await this.$store.dispatch('dashboard/setCurrentMemorial', this.memorial.id);\r\n    }\r\n\r\n    if(this.$route.meta.type === 'memorial' && this.$route.params.id !== this.memorial.id) {\r\n      let memorial = this.memorials.find(memorial => memorial.id === this.$route.params.id);\r\n\r\n      let memorialId = memorial.id;\r\n\r\n      if(null === memorialId ||typeof memorialId === 'undefined') {\r\n        memorialId = this.$route.params.id;\r\n      }\r\n\r\n      if(null !== memorialId && typeof memorialId !== 'undefined') {\r\n        await this.$store.dispatch('dashboard/setCurrentMemorial', memorialId);\r\n      }\r\n    }\r\n\r\n    if (!this.memorial) {\r\n      await this.$router.push({name: 'home'});\r\n    }\r\n\r\n    this.sortMemorials();\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"~@/assets/scss/pages/edit-memorial/header.scss\";\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=4f2f26aa&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=4f2f26aa&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f2f26aa\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/footer-flag.5e1c9d59.svg\";","module.exports = __webpack_public_path__ + \"img/mobile-blue.6f57cba0.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard\"},[_c('Header',{attrs:{\"user\":_vm.user,\"classList\":['dashboard-header']}}),_c('div',{staticClass:\"dashboard__container\"},[(_vm.isShowStory)?_c('Story',{attrs:{\"storyId\":_vm.showStoryId,\"editVersion\":_vm.showStoryEditVersion},on:{\"close\":_vm.closeModal,\"approve\":_vm.approveStory}}):_vm._e(),_c('div',{staticClass:\"dashboard__content\"},[_c('div',{staticClass:\"dashboard__user\"},[_c('div',{staticClass:\"dashboard__avatar\"},[(null !== _vm.user && null !== _vm.user.profilePhoto && typeof _vm.user.profilePhoto.url !== 'undefined')?_c('img',{attrs:{\"src\":_vm.user.profilePhoto.url,\"alt\":\"avatar\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/dashboard-avatar-placeholder.svg\"),\"alt\":\"avatar\"}})]),_c('h1',{staticClass:\"dashboard__user-name\"},[_vm._v(_vm._s(_vm.$ml.with('name', null !== _vm.user ? _vm.user.name : '').get('dashboard.user.welcome')))])]),_c('div',{staticClass:\"dashboard__sites\"},[_c('div',{staticClass:\"dashboard__site\"},[_c('div',{staticClass:\"site__content\"},[_c('div',{staticClass:\"site__header\"},[_c('span',{staticClass:\"site__label\"},[_vm._v(_vm._s(_vm.$ml.get('dashboard.memorial.label')))])]),_c('div',{staticClass:\"site__memorial\"},[_c('div',{staticClass:\"memorial__description\"},[_c('div',{staticClass:\"memorial__date\"},[_c('span',{staticClass:\"memorial__label\"},[_vm._v(_vm._s(_vm.$ml.get('dashboard.memorial.createdAt')))]),_c('span',{staticClass:\"memorial__value\"},[_vm._v(_vm._s(_vm.$dateUtils.formatDate(_vm.memorial.createdAt, 'dd/MM/yyyy')))])]),_c('div',{staticClass:\"memorial__subsription\"},[_c('span',{staticClass:\"memorial__label\"},[_vm._v(_vm._s(_vm.$ml.get('dashboard.memorial.plan.label')))]),(_vm.memorial.paid && null !== _vm.memorial.paymentPlan && typeof _vm.memorial.paymentPlan !== 'undefined' && _vm.memorial.paymentPlan.type === 'monthly')?_c('span',{staticClass:\"memorial__value\"},[_vm._v(_vm._s(_vm.$ml.with('amount', _vm.$ml.get('payments.monthly.price')).get('dashboard.memorial.plan.monthly')))]):(_vm.memorial.paid && null !== _vm.memorial.paymentPlan && typeof _vm.memorial.paymentPlan !== 'undefined' && _vm.memorial.paymentPlan.type === 'once')?_c('span',{staticClass:\"memorial__value\"},[_vm._v(_vm._s(_vm.$ml.with('amount', _vm.$ml.get('payments.once.price')).get('dashboard.memorial.plan.once')))]):_c('router-link',{staticClass:\"memorial__value underline\",attrs:{\"tag\":\"span\",\"to\":{ name: 'memorials.payment', params: {slug: _vm.memorial.id}}}},[_vm._v(_vm._s(_vm.$ml.get('dashboard.memorial.plan.choose')))])],1)]),_c('div',{staticClass:\"memorial__control\"},[_c('Button',{attrs:{\"classList\":['btn', 'btn__second', 'btn-edit'],\"label\":_vm.$ml.get('dashboard.memorial.control.edit')},on:{\"clicked\":function($event){return _vm.goTo('memorials.edit', {id: _vm.memorial.id}, '_blank')}}}),_c('Button',{attrs:{\"classList\":['btn', 'btn__second', 'btn-preview'],\"label\":_vm.$ml.get('dashboard.memorial.control.preview')},on:{\"clicked\":function($event){return _vm.goTo('memorials.show', {slug: _vm.memorial.id}, '_blank')}}}),_c('Button',{attrs:{\"classList\":['btn', 'btn__create', 'btn-add'],\"label\":_vm.$ml.get('dashboard.memorial.control.add')},on:{\"clicked\":function($event){return _vm.goTo('memorials.story.auth', {slug: _vm.memorial.id}, '_blank')}}},[_c('span',{staticClass:\"icon plus plus-blue\",attrs:{\"slot\":\"icon-left\"},slot:\"icon-left\"})])],1)]),_c('div',{staticClass:\"site__stories\"},[_c('div',{staticClass:\"stories__info\"},[_c('div',{staticClass:\"stories__control\"}),_c('div',{staticClass:\"stories__label\"},[_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.$ml.get('dashboard.memorial.stories.label')))]),_c('span',{staticClass:\"icon icon__info ask-icon\",on:{\"click\":function($event){_vm.isTooltipShow = !_vm.isTooltipShow}}})]),_c('div',{staticClass:\"description\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.$ml.get('dashboard.memorial.stories.description')))])])]),_c('Button',{attrs:{\"classList\":['btn', 'btn__second', 'btn-add'],\"label\":_vm.$ml.get('dashboard.memorial.stories.btn.add')},on:{\"clicked\":function($event){return _vm.goTo('memorials.story.share', {slug: _vm.memorial.id}, '_blank')}}},[_c('span',{staticClass:\"icon icon__add-blue add-icon\",attrs:{\"slot\":\"icon-left\"},slot:\"icon-left\"})])],1),_c('div',{class:['stories__items', {'notfound': !_vm.isStoriesExist(_vm.memorial.id)}]},[(!_vm.isStoriesExist(_vm.memorial.id))?_c('div',{staticClass:\"stories__item stories__notfound\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.$ml.get('dashboard.memorial.stories.notfound')))])]):(_vm.stories[_vm.memorial.id].length > 0)?_c('div',{staticClass:\"swiper-container swiper\",attrs:{\"id\":_vm.$stringUtils.toCamelCase((\"story-\" + (_vm.memorial.slug)))}},[_c('div',{staticClass:\"swiper-wrapper\"},_vm._l((_vm.stories[_vm.memorial.id]),function(story){return _c('div',{key:story.id,staticClass:\"stories__item swiper-slide\"},[_c('div',{staticClass:\"stories__created\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$ml.get('dashboard.memorial.story.created')))]),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formatStoryDate(_vm.memorial.createdAt)))])]),_c('div',{staticClass:\"stories__content\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"story__person\"},[(null !== story.owner && null !== story.owner.user.profilePhoto && typeof story.owner.user.profilePhoto.url !== 'undefined')?_c('img',{staticClass:\"person__photo\",attrs:{\"src\":story.owner.user.profilePhoto.url,\"alt\":\"photo\"}}):_c('img',{staticClass:\"person__photo\",attrs:{\"src\":require(\"@/assets/img/icon/relative-placeholder.svg\"),\"alt\":\"photo\"}}),_c('div',{staticClass:\"person__info\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(story.owner.user.name))]),_c('span',{staticClass:\"company\"},[_vm._v(_vm._s(story.owner.relationToMemorialPerson))])])]),_c('div',{staticClass:\"approval\"},[_c('Button',{attrs:{\"classList\":['btn', 'btn__primary', 'approval__btn'],\"label\":_vm.$ml.get('dashboard.memorial.story.btn.approval')},on:{\"clicked\":function($event){return _vm.showStory(story)}}}),_c('div',{staticClass:\"approval__need\"})],1)]),_c('div',{staticClass:\"btn btn__label btn-relative\"},[_c('span',{staticClass:\"icon icon__label-blue label-icon\"}),_c('span',{staticClass:\"period-name\"},[_vm._v(_vm._s(story.period.name))])])])])}),0),_c('div',{class:(\"swiper-button-prev swiper-button btn-prev-\" + (_vm.memorial.slug)),attrs:{\"slot\":\"button-prev\"},slot:\"button-prev\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18.787\",\"height\":\"18.787\",\"viewBox\":\"0 0 18.787 18.787\"}},[_c('path',{attrs:{\"id\":\"Path_1969\",\"data-name\":\"Path 1969\",\"d\":\"M22.787,12.219H8.5l6.564-6.564L13.393,4,4,13.393l9.393,9.393,1.656-1.656L8.5,14.568h14.29Z\",\"transform\":\"translate(-4 -4)\",\"fill\":\"currentColor\"}})])]),_c('div',{class:(\"swiper-button-next swiper-button btn-next-\" + (_vm.memorial.slug)),attrs:{\"slot\":\"button-next\"},slot:\"button-next\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18.787\",\"height\":\"18.787\",\"viewBox\":\"0 0 18.787 18.787\"}},[_c('path',{attrs:{\"id\":\"Path_1969\",\"data-name\":\"Path 1969\",\"d\":\"M18.787,8.219H4.5l6.564-6.564L9.393,0,0,9.393l9.393,9.393,1.656-1.656L4.5,10.568h14.29Z\",\"fill\":\"currentColor\"}})])])]):_vm._e()])])])])])])],1),_c('HelpCenter'),(_vm.isTooltipShow)?_c('Tooltip',{attrs:{\"label\":_vm.$ml.get('dashboard.help.label'),\"withTalkLink\":false},on:{\"close\":function($event){_vm.isTooltipShow = false}}},[_c('div',{staticClass:\"tooltip__description\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$ml.get('dashboard.help.text'))+\" \")])])]):_vm._e(),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard-footer\"},[_c('div',{staticClass:\"dashboard-footer__container\"},[_c('div',{staticClass:\"dashboard-footer__title-wrapper\"},[_c('span',{staticClass:\"dashboard-footer__logo\"}),_c('div',{staticClass:\"dashboard-footer__text\"},[_vm._v(\" \"+_vm._s(_vm.$ml.get('dashboard.footer.text'))+\" \")])]),_c('div',{staticClass:\"dashboard-footer__bottom\"},[_c('div',{staticClass:\"dashboard-footer__privacy\"},[_c('a',{attrs:{\"href\":(\"./files/\" + (_vm.$ml.get(\"footer.link3File\")))}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/footer-flag.svg\"),\"alt\":\"\"}}),_vm._v(_vm._s(_vm.$ml.get('dashboard.footer.privacy.links.abuse')))]),_c('a',{attrs:{\"href\":(\"./files/\" + (_vm.$ml.get(\"footer.link2File\")))}},[_vm._v(_vm._s(_vm.$ml.get('dashboard.footer.privacy.links.privacy')))]),_c('a',{attrs:{\"href\":(\"./files/\" + (_vm.$ml.get(\"footer.link1File\")))}},[_vm._v(_vm._s(_vm.$ml.get('dashboard.footer.privacy.links.terms')))])]),_c('div',{staticClass:\"dashboard-footer__control\"},[_c('Button',{attrs:{\"classList\":['btn', 'btn__third', 'dashboard-footer__btn', 'history'],\"label\":_vm.$ml.get('dashboard.footer.controls.history.label')},on:{\"clicked\":function($event){_vm.openLink(_vm.$ml.get('dashboard.footer.controls.history.link'))}}}),_c('Button',{attrs:{\"classList\":['btn', 'btn__third', 'dashboard-footer__btn', 'you'],\"label\":_vm.$ml.get('dashboard.footer.controls.you.label')},on:{\"clicked\":_vm.openHelp}})],1),_c('div',{staticClass:\"dashboard-footer__rights\"},[_vm._v(\" \"+_vm._s(_vm.$ml.with('year', new Date().getFullYear()).get('dashboard.footer.privacy.label'))+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"dashboard-footer\">\r\n    <div class=\"dashboard-footer__container\">\r\n      <div class=\"dashboard-footer__title-wrapper\">\r\n        <span class=\"dashboard-footer__logo\"></span>\r\n        <div class=\"dashboard-footer__text\">\r\n          {{ $ml.get('dashboard.footer.text') }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"dashboard-footer__bottom\">\r\n        <div class=\"dashboard-footer__privacy\">\r\n          <a :href=\"`./files/${$ml.get(`footer.link3File`)}`\"><img src=\"~@/assets/img/icon/footer-flag.svg\" alt=\"\">{{ $ml.get('dashboard.footer.privacy.links.abuse') }}</a>\r\n          <a :href=\"`./files/${$ml.get(`footer.link2File`)}`\" >{{ $ml.get('dashboard.footer.privacy.links.privacy') }}</a>\r\n          <a :href=\"`./files/${$ml.get(`footer.link1File`)}`\">{{ $ml.get('dashboard.footer.privacy.links.terms') }}</a>\r\n        </div>\r\n\r\n        <div class=\"dashboard-footer__control\">\r\n          <Button\r\n              :classList=\"['btn', 'btn__third', 'dashboard-footer__btn', 'history']\"\r\n              @clicked=\"openLink($ml.get('dashboard.footer.controls.history.link'))\"\r\n              :label=\"$ml.get('dashboard.footer.controls.history.label')\"\r\n          />\r\n          <Button\r\n\r\n              :classList=\"['btn', 'btn__third', 'dashboard-footer__btn', 'you']\"\r\n              @clicked=\"openHelp\"\r\n              :label=\"$ml.get('dashboard.footer.controls.you.label')\"\r\n          />\r\n        </div>\r\n\r\n\r\n        <div class=\"dashboard-footer__rights\">\r\n          {{ $ml.with('year', new Date().getFullYear()).get('dashboard.footer.privacy.label') }}\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Button from '@/components/Button';\r\nimport { EventBus } from '@/utils/EventBus.js';\r\n\r\nexport default {\r\n  name: \"Footer\",\r\n  components: {\r\n    Button,\r\n  },\r\n  methods: {\r\n    openLink(link) {\r\n      if(link) {\r\n        window.open(link, '_blank');\r\n      }\r\n    },\r\n    openHelp() {\r\n      EventBus.$emit('help-center-open');\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"~@/assets/scss/pages/dashboard/footer.scss\";\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Footer.vue?vue&type=template&id=44a3e493&scoped=true&\"\nimport script from \"./Footer.vue?vue&type=script&lang=js&\"\nexport * from \"./Footer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Footer.vue?vue&type=style&index=0&id=44a3e493&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44a3e493\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"dashboard\">\r\n    <Header\r\n      :user=\"user\"\r\n      :classList=\"['dashboard-header']\"\r\n    />\r\n\r\n    <div class=\"dashboard__container\">\r\n\r\n    <Story\r\n      v-if=\"isShowStory\"\r\n      :storyId=\"showStoryId\"\r\n      :editVersion=\"showStoryEditVersion\"\r\n      @close=\"closeModal\"\r\n      @approve=\"approveStory\"\r\n    />\r\n\r\n    <div class=\"dashboard__content\">\r\n      <div class=\"dashboard__user\">\r\n        <div class=\"dashboard__avatar\">\r\n          <img\r\n            v-if=\"null !== user && null !== user.profilePhoto && typeof user.profilePhoto.url !== 'undefined'\"\r\n            :src=\"user.profilePhoto.url\"\r\n            alt=\"avatar\"\r\n          >\r\n          <img\r\n            v-else\r\n            src=\"~@/assets/img/icon/dashboard-avatar-placeholder.svg\"\r\n            alt=\"avatar\"\r\n          >\r\n        </div>\r\n        <h1 class=\"dashboard__user-name\">{{ $ml.with('name', null !== user ? user.name : '').get('dashboard.user.welcome') }}</h1>\r\n      </div>\r\n\r\n      <div class=\"dashboard__sites\">\r\n        <div class=\"dashboard__site\">\r\n          <div class=\"site__content\">\r\n            <div class=\"site__header\">\r\n              <span class=\"site__label\">{{ $ml.get('dashboard.memorial.label') }}</span>\r\n            </div>\r\n\r\n            <div class=\"site__memorial\">\r\n              <div class=\"memorial__description\">\r\n                <div class=\"memorial__date\">\r\n                  <span class=\"memorial__label\">{{ $ml.get('dashboard.memorial.createdAt') }}</span>\r\n                  <span class=\"memorial__value\">{{ $dateUtils.formatDate(memorial.createdAt, 'dd/MM/yyyy') }}</span>\r\n                </div>\r\n                <div class=\"memorial__subsription\">\r\n                  <span class=\"memorial__label\">{{ $ml.get('dashboard.memorial.plan.label') }}</span>\r\n                  <span class=\"memorial__value\" v-if=\"memorial.paid && null !== memorial.paymentPlan && typeof memorial.paymentPlan !== 'undefined' && memorial.paymentPlan.type === 'monthly'\">{{ $ml.with('amount', $ml.get('payments.monthly.price')).get('dashboard.memorial.plan.monthly') }}</span>\r\n                  <span class=\"memorial__value\" v-else-if=\"memorial.paid && null !== memorial.paymentPlan && typeof memorial.paymentPlan !== 'undefined' && memorial.paymentPlan.type === 'once'\">{{ $ml.with('amount', $ml.get('payments.once.price')).get('dashboard.memorial.plan.once') }}</span>\r\n                  <router-link tag=\"span\" :to=\"{ name: 'memorials.payment', params: {slug: memorial.id}}\" class=\"memorial__value underline\" v-else>{{ $ml.get('dashboard.memorial.plan.choose') }}</router-link>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"memorial__control\">\r\n                <Button\r\n                    :classList=\"['btn', 'btn__second', 'btn-edit']\"\r\n                    @clicked=\"goTo('memorials.edit', {id: memorial.id}, '_blank')\"\r\n                    :label=\"$ml.get('dashboard.memorial.control.edit')\"\r\n                />\r\n\r\n                <Button\r\n                    :classList=\"['btn', 'btn__second', 'btn-preview']\"\r\n                    @clicked=\"goTo('memorials.show', {slug: memorial.id}, '_blank')\"\r\n                    :label=\"$ml.get('dashboard.memorial.control.preview')\"\r\n                />\r\n\r\n                <Button\r\n                    :classList=\"['btn', 'btn__create', 'btn-add']\"\r\n                    @clicked=\"goTo('memorials.story.auth', {slug: memorial.id}, '_blank')\"\r\n                    :label=\"$ml.get('dashboard.memorial.control.add')\"\r\n                >\r\n                  <span slot=\"icon-left\" class=\"icon plus plus-blue\"></span>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"site__stories\">\r\n              <div class=\"stories__info\">\r\n                <div class=\"stories__control\">\r\n                </div>\r\n\r\n                <div class=\"stories__label\">\r\n                  <div class=\"title\">\r\n                    <span class=\"text\">{{ $ml.get('dashboard.memorial.stories.label') }}</span>\r\n                    <span class=\"icon icon__info ask-icon\" @click=\"isTooltipShow = !isTooltipShow\"></span>\r\n                  </div>\r\n                  <div class=\"description\">\r\n                    <span class=\"text\">{{ $ml.get('dashboard.memorial.stories.description') }}</span>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n                <Button\r\n                    :classList=\"['btn', 'btn__second', 'btn-add']\"\r\n                    @clicked=\"goTo('memorials.story.share', {slug: memorial.id}, '_blank')\"\r\n                    :label=\"$ml.get('dashboard.memorial.stories.btn.add')\"\r\n                >\r\n                  <span slot=\"icon-left\" class=\"icon icon__add-blue add-icon\"></span>\r\n                </Button>\r\n\r\n              </div>\r\n\r\n              <div :class=\"['stories__items', {'notfound': !isStoriesExist(memorial.id)}]\">\r\n                <div\r\n                  class=\"stories__item stories__notfound\"\r\n                  v-if=\"!isStoriesExist(memorial.id)\"\r\n                >\r\n                  <span class=\"text\">{{ $ml.get('dashboard.memorial.stories.notfound') }}</span>\r\n                </div>\r\n\r\n                <div\r\n                    v-else-if=\"stories[memorial.id].length > 0\"\r\n                    class=\"swiper-container swiper\"\r\n                    :id=\"$stringUtils.toCamelCase(`story-${memorial.slug}`)\"\r\n                >\r\n                    <div class=\"swiper-wrapper\">\r\n                      <div\r\n                          class=\"stories__item swiper-slide\"\r\n                          v-for=\"story in stories[memorial.id]\"\r\n                          :key=\"story.id\"\r\n                      >\r\n                        <div class=\"stories__created\">\r\n                          <span class=\"label\">{{ $ml.get('dashboard.memorial.story.created') }}</span>\r\n                          <span class=\"date\">{{ formatStoryDate(memorial.createdAt) }}</span>\r\n                        </div>\r\n                        <div class=\"stories__content\">\r\n                          <div class=\"info\">\r\n                            <div class=\"story__person\">\r\n                              <img class=\"person__photo\" v-if=\"null !== story.owner && null !== story.owner.user.profilePhoto && typeof story.owner.user.profilePhoto.url !== 'undefined'\" :src=\"story.owner.user.profilePhoto.url\" alt=\"photo\">\r\n                              <img class=\"person__photo\" v-else src=\"~@/assets/img/icon/relative-placeholder.svg\" alt=\"photo\">\r\n                              <div class=\"person__info\">\r\n                                <span class=\"name\">{{ story.owner.user.name }}</span>\r\n                                <span class=\"company\">{{ story.owner.relationToMemorialPerson }}</span>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div class=\"approval\">\r\n                              <Button\r\n                                  :classList=\"['btn', 'btn__primary', 'approval__btn']\"\r\n                                  @clicked=\"showStory(story)\"\r\n                                  :label=\" $ml.get('dashboard.memorial.story.btn.approval')\"\r\n                              >\r\n                              </Button>\r\n                              <div class=\"approval__need\"></div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class=\"btn btn__label btn-relative\">\r\n                            <span class=\"icon icon__label-blue label-icon\"></span>\r\n                            <span class=\"period-name\">{{ story.period.name }}</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n\r\n                    <div :class=\"`swiper-button-prev swiper-button btn-prev-${memorial.slug}`\" slot=\"button-prev\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18.787\" height=\"18.787\"\r\n                           viewBox=\"0 0 18.787 18.787\">\r\n                        <path id=\"Path_1969\" data-name=\"Path 1969\"\r\n                              d=\"M22.787,12.219H8.5l6.564-6.564L13.393,4,4,13.393l9.393,9.393,1.656-1.656L8.5,14.568h14.29Z\"\r\n                              transform=\"translate(-4 -4)\" fill=\"currentColor\" />\r\n                      </svg>\r\n                    </div>\r\n                    <div :class=\"`swiper-button-next swiper-button btn-next-${memorial.slug}`\" slot=\"button-next\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18.787\" height=\"18.787\"\r\n                           viewBox=\"0 0 18.787 18.787\">\r\n                        <path id=\"Path_1969\" data-name=\"Path 1969\"\r\n                              d=\"M18.787,8.219H4.5l6.564-6.564L9.393,0,0,9.393l9.393,9.393,1.656-1.656L4.5,10.568h14.29Z\"\r\n                              fill=\"currentColor\" />\r\n                      </svg>\r\n                    </div>\r\n\r\n                  </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    </div>\r\n    <HelpCenter />\r\n\r\n    <Tooltip\r\n        v-if=\"isTooltipShow\"\r\n        :label=\"$ml.get('dashboard.help.label')\"\r\n        :withTalkLink=\"false\"\r\n        @close=\"isTooltipShow = false\"\r\n    >\r\n      <div slot=\"content\" class=\"tooltip__description\">\r\n        <span>\r\n           {{ $ml.get('dashboard.help.text') }}\r\n        </span>\r\n      </div>\r\n    </Tooltip>\r\n\r\n    <Footer />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Header from \"@/views/memorials/edit/partials/Header\";\r\n  import Footer from \"./partials/Footer\";\r\n  import Story from \"./Story\";\r\n  import HelpCenter from '@/components/HelpCenter.vue';\r\n\r\n  import Swiper, { Navigation } from 'swiper';\r\n\r\n  Swiper.use([Navigation]);\r\n  import 'swiper/swiper-bundle.css';\r\n\r\n  import { mapGetters } from 'vuex';\r\n  import Button from \"@/components/Button\";\r\n  import Tooltip from \"@/components/Tooltip\";\r\n  import { EventBus } from '@/utils/EventBus.js';\r\n\r\n  export default {\r\n    name: \"Index\",\r\n    components: {\r\n      Button,\r\n      Header,\r\n      Footer,\r\n      HelpCenter,\r\n      Story,\r\n      Tooltip,\r\n    },\r\n    data() {\r\n      return {\r\n        isTooltipShow: false,\r\n        swiperOptions: {\r\n          slidesPerView: 'auto',\r\n          navigation: {\r\n            nextEl: null,\r\n            prevEl: null,\r\n          }\r\n        },\r\n        isShowStory: false,\r\n        showStoryId: null,\r\n        showStoryEditVersion: null,\r\n        showContextMenu: false,\r\n        slidersReady: [],\r\n\r\n        slider: {},\r\n      };\r\n    },\r\n    computed: {\r\n      textDir() {\r\n        return this.$ml.current === 'he';\r\n      },\r\n      typeNext() {\r\n        return 'right';\r\n      },\r\n      typePrev() {\r\n        return 'left';\r\n      },\r\n      ...mapGetters({\r\n        memorial: 'dashboard/currentMemorial',\r\n        stories: 'dashboard/stories',\r\n        user: 'profile/getUser',\r\n      }),\r\n    },\r\n    watch: {\r\n      'memorial.slug'(slug) {\r\n        this.sliderReInit();\r\n      },\r\n    },\r\n    methods: {\r\n      sliderReInit() {\r\n        if(this.slider && Object.keys(this.slider).length) {\r\n          this.slider.destroy(true, true);\r\n        }\r\n\r\n        this.initSlider();\r\n      },\r\n      initSlider() {\r\n        let _this = this;\r\n        setTimeout(() => {\r\n          if(document.querySelector(`#${_this.$stringUtils.toCamelCase(`story-${_this.memorial.slug}`)}`)) {\r\n            this.swiperOptions['navigation']['nextEl'] = `.swiper-button-next`;\r\n            this.swiperOptions['navigation']['prevEl'] = `.swiper-button-prev`;\r\n\r\n            this.slider = new Swiper(`#${_this.$stringUtils.toCamelCase(`story-${_this.memorial.slug}`)}`, _this.swiperOptions);\r\n          }\r\n        },1000);\r\n      },\r\n      closeModal() {\r\n        this.isShowStory = false;\r\n        this.showStoryId = null;\r\n        this.showStoryEditVersion = null;\r\n        this.$store.dispatch('story/saveStory', {});\r\n      },\r\n      async approveStory() {\r\n        this.closeModal();\r\n        await this.updateMemorial();\r\n\r\n        this.sliderReInit();\r\n      },\r\n      hideContextMenu() {\r\n        this.showContextMenu = false;\r\n      },\r\n      async updateMemorial() {\r\n        await this.$store.dispatch('dashboard/setCurrentMemorial', this.memorial.id);\r\n      },\r\n      isStoriesExist(id) {\r\n        return typeof this.stories[id] !== 'undefined' && this.stories[id].length > 0;\r\n      },\r\n      formatStoryDate(date) {\r\n        if(this.$ml.current === 'en') {\r\n          return this.$dateUtils.formatDate(date, 'MMMM dd, yyyy');\r\n        }\r\n\r\n        return this.$dateUtils.formatDate(date, 'dd MMMM yyyy', '-', this.$ml.current);\r\n      },\r\n      showStory(story) {\r\n        this.isShowStory = true;\r\n        this.showStoryId = story.id;\r\n        this.showStoryEditVersion = story.editVersion;\r\n      },\r\n      goTo(route, params, target) {\r\n        if('_blank' === target) {\r\n          let routeData = this.$router.resolve({name: route, params: params});\r\n\r\n          window.open(routeData.href, '_blank');\r\n        } else {\r\n          this.$router.push(route, params);\r\n        }\r\n      },\r\n    },\r\n    mounted() {\r\n      let _this = this;\r\n      setTimeout(() => {\r\n        _this.initSlider();\r\n        }, 2000);\r\n\r\n      let bus = this.$ml.bus;\r\n      bus.$on('vueml-language-changed', function () {\r\n        if(typeof _this.slider !== 'undefined') {\r\n          _this.sliderReInit();\r\n        }\r\n      });\r\n\r\n      EventBus.$on('approve', () => {\r\n        this.approveStory();\r\n      });\r\n    },\r\n    async created() {\r\n      // await this.$store.commit('dashboard/setCurrentMemorial', {});\r\n\r\n      if(!this.$store.getters['auth/isLoggedIn'](['customer'])) {\r\n       await this.$router.push({name: 'home'});\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"~@/assets/scss/pages/dashboard.scss\";\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=68efa989&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=68efa989&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68efa989\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeList.vue?vue&type=style&index=0&id=1b9bc744&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/form-paper.5cfa0206.svg\";","module.exports = __webpack_public_path__ + \"img/facebook.c7033d43.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"scroll-lock\",rawName:\"v-scroll-lock\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"dashboard-story\"},[(_vm.showPeriodModal)?_c('PeriodModal',{attrs:{\"memorialId\":_vm.memorial.id,\"periods\":_vm.periods,\"defaultPeriod\":_vm.period},on:{\"close\":_vm.closePeriodModal,\"selectPeriod\":_vm.setPeriod}}):_vm._e(),(_vm.isTooltipShow)?_c('Tooltip',{attrs:{\"label\":_vm.$ml.get((\"dashboard.story.\" + _vm.type + \".help.label\")),\"withTalkLink\":false},on:{\"close\":function($event){_vm.isTooltipShow = false}}},[_c('div',{staticClass:\"tooltip__description\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$ml.get((\"dashboard.story.\" + _vm.type + \".help.text\")))+\" \")])])]):_vm._e(),_c('div',{ref:\"modal\",staticClass:\"dashboard-story__modal\",attrs:{\"tabindex\":\"0\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.close($event)}}},[_c('div',{staticClass:\"dashboard-story__header\"},[_c('span',{staticClass:\"icon icon__close dashboard-story__close\",on:{\"click\":function($event){$event.preventDefault();return _vm.close($event)}}}),_c('div',{staticClass:\"dashboard-story__avatar\"},[(_vm.isStoryFieldExist('owner') && null !== _vm.story.owner.user.profilePhoto && typeof _vm.story.owner.user.profilePhoto !== 'undefined' && _vm.story.owner.user.profilePhoto.status === 'ready' && _vm.story.owner.user.profilePhoto.url)?_c('img',{attrs:{\"src\":_vm.story.owner.user.profilePhoto.url,\"alt\":\"avatar\"}}):_c('img',{staticClass:\"placeholder-avatar\",attrs:{\"src\":require(\"@/assets/img/icon/dashboard-avatar-placeholder.svg\"),\"alt\":\"avatar\"}})]),_c('div',{staticClass:\"dashboard-story__user\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.isStoryFieldExist('owner') ? _vm.story.owner.user.name : ''))]),_c('span',{staticClass:\"relative\"},[_vm._v(_vm._s(_vm.isStoryFieldExist('owner') ? _vm.story.owner.relationToMemorialPerson : ''))])])]),_c('div',{ref:\"modalContent\",staticClass:\"dashboard-story__content\"},[_c('div',{staticClass:\"dashboard-story__associating\"},[_c('div',{staticClass:\"associating__content\"},[_c('div',{staticClass:\"periods\"},[_c('div',{staticClass:\"label\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.$ml.get('story.common.form.labels.associating')))]),_c('span',{staticClass:\"icon icon__info ask-icon\",on:{\"click\":function($event){return _vm.showTooltip('period')}}})]),_c('div',{staticClass:\"dropdown-wrapper\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.openPeriodModal()}}},[_c('div',{class:['associating', 'memorial']},[_c('span',{staticClass:\"icon icon__label-blue\"}),_c('span',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.period.name)}}),_c('span',{staticClass:\"icon caret\"})])])]),_c('div',{staticClass:\"visible\"},[('memorial' === this.$route.meta.type)?_c('div',{staticClass:\"label\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.$ml.get('story.common.form.labels.visible')))]),_c('span',{staticClass:\"icon icon__info ask-icon\",on:{\"click\":function($event){return _vm.showTooltip('visible')}}})]):_vm._e(),('memorial' === this.$route.meta.type)?_c('div',{staticClass:\"dropdown-wrapper\"},[_c('div',{staticClass:\"memorial-sidebar__switcher-wrapper memorial-sidebar__switcher-wrapper--indent\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();_vm.isStoryVisible = !_vm.isStoryVisible}}},[(_vm.isStoryVisible)?_c('span',[_vm._v(_vm._s(_vm.$ml.get('editMemorial.sidebar.relatives.editBlock.story.show')))]):_c('span',[_vm._v(_vm._s(_vm.$ml.get('editMemorial.sidebar.relatives.editBlock.story.hide')))]),_c('div',{class:['memorial-sidebar__switcher-box', {'switch': !_vm.isStoryVisible}]},[_c('div',{staticClass:\"memorial-sidebar__switcher-point\"})])])]):_vm._e()])]),_c('span',{staticClass:\"dashboard-story__label\"},[_vm._v(_vm._s(_vm.$ml.get('story.common.form.labels.content')))])]),_c('div',{staticClass:\"dashboard-story__text\"},[_c('div',{staticClass:\"story-form__description dashboard\",attrs:{\"contentEditable\":\"true\",\"value\":_vm.description},domProps:{\"innerHTML\":_vm._s(_vm.story.description)},on:{\"input\":_vm.setDescription}}),_c('div',{staticClass:\"story-form__media dashboard\"},_vm._l((_vm.contents),function(content){return _c('div',{key:content.id,staticClass:\"upload__item\"},[_c('span',{staticClass:\"icon icon__close remove\",on:{\"click\":function($event){$event.preventDefault();return _vm.removeMedia(content.type, content.id)}}}),('link' === content.type && !_vm.checkIsYouTubeLink(content.link))?_c('div',{staticClass:\"link__card\"},[_c('img',{attrs:{\"src\":content.previewImgLink,\"alt\":\"\"}}),_c('div',{staticClass:\"link__input\"},[_c('span',{staticClass:\"icon icon__link link-icon\"}),_c('input',{attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":content.link}})])]):('link' === content.type && _vm.checkIsYouTubeLink(content.link))?_c('div',{staticClass:\"link__card\"},[_c('div',{staticClass:\"upload__item\"},[_c('iframe',{attrs:{\"width\":\"100%\",\"height\":\"300px\",\"src\":(\"https://www.youtube.com/embed/\" + (_vm.getVideoId(content.link))),\"frameborder\":\"0\",\"allow\":\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\"allowfullscreen\":\"\"}})])]):(null !== content.file &&'file' === content.type && 'image' === content.contentType)?_c('img',{attrs:{\"src\":content.file.url}}):(null !== content.file &&'file' === content.type && 'video' === content.contentType && 'ready' === content.file.status)?_c('VideoPlayer',{attrs:{\"options\":{\n                  autoplay: false,\n                  controls: true,\n                  sources: [\n                    {\n                      src: content.file.url,\n                    }\n                  ]\n                }}}):(null !== content.file &&'file' === content.type && 'audio' === content.contentType && 'ready' === content.file.status)?_c('AudioPlayer',{attrs:{\"sources\":[{\n                 file: content.file.url,\n                 type: '',\n               }],\"classList\":['create-story__audio']}}):_vm._e()],1)}),0)])]),_c('div',{staticClass:\"dashboard-story__footer\"},[_c('Button',{attrs:{\"classList\":['btn', 'btn__second', 'btn-draft'],\"label\":'memorial' === this.$route.meta.type ? _vm.$ml.get('dashboard.story.controls.cancel') : _vm.$ml.get('dashboard.story.controls.draft')},on:{\"clicked\":_vm.saveAsDraft}}),('memorial' === this.$route.meta.type)?_c('Button',{attrs:{\"classList\":['btn', 'btn__primary', 'btn-publish'],\"label\":_vm.$ml.get('dashboard.story.controls.save')},on:{\"clicked\":_vm.save}}):_c('Button',{attrs:{\"classList\":['btn', 'btn__primary', 'btn-publish'],\"label\":_vm.$ml.get('dashboard.story.controls.publish')},on:{\"clicked\":_vm.approve}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"dashboard-story\"\r\n    v-scroll-lock=\"isShow\"\r\n  >\r\n    <PeriodModal\r\n        v-if=\"showPeriodModal\"\r\n        :memorialId=\"memorial.id\"\r\n        :periods=\"periods\"\r\n        :defaultPeriod=\"period\"\r\n        @close=\"closePeriodModal\"\r\n        @selectPeriod=\"setPeriod\"\r\n    />\r\n\r\n    <Tooltip\r\n        v-if=\"isTooltipShow\"\r\n        :label=\"$ml.get(`dashboard.story.${type}.help.label`)\"\r\n        :withTalkLink=\"false\"\r\n        @close=\"isTooltipShow = false\"\r\n    >\r\n      <div slot=\"content\" class=\"tooltip__description\">\r\n        <span>\r\n           {{ $ml.get(`dashboard.story.${type}.help.text`) }}\r\n        </span>\r\n      </div>\r\n    </Tooltip>\r\n\r\n\r\n    <div\r\n      class=\"dashboard-story__modal\"\r\n      tabindex=\"0\"\r\n      @keydown.esc=\"close\"\r\n      ref=\"modal\"\r\n    >\r\n      <div class=\"dashboard-story__header\">\r\n        <span class=\"icon icon__close dashboard-story__close\" @click.prevent=\"close\"></span>\r\n\r\n        <div class=\"dashboard-story__avatar\">\r\n          <img v-if=\"isStoryFieldExist('owner') && null !== story.owner.user.profilePhoto && typeof story.owner.user.profilePhoto !== 'undefined' && story.owner.user.profilePhoto.status === 'ready' && story.owner.user.profilePhoto.url\" :src=\"story.owner.user.profilePhoto.url\" alt=\"avatar\">\r\n          <img v-else class=\"placeholder-avatar\" src=\"~@/assets/img/icon/dashboard-avatar-placeholder.svg\" alt=\"avatar\">\r\n        </div>\r\n\r\n        <div class=\"dashboard-story__user\">\r\n          <span class=\"name\">{{ isStoryFieldExist('owner')  ? story.owner.user.name : '' }}</span>\r\n          <span class=\"relative\">{{ isStoryFieldExist('owner')  ? story.owner.relationToMemorialPerson : '' }}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"dashboard-story__content\" ref=\"modalContent\">\r\n        <div class=\"dashboard-story__associating\">\r\n          <div class=\"associating__content\">\r\n            <div class=\"periods\">\r\n              <div class=\"label\">\r\n                <span class=\"text\">{{ $ml.get('story.common.form.labels.associating') }}</span>\r\n                <span class=\"icon icon__info ask-icon\" @click=\"showTooltip('period')\"></span>\r\n              </div>\r\n\r\n              <div class=\"dropdown-wrapper\" @click.prevent.stop=\"openPeriodModal()\">\r\n                <div :class=\"['associating', 'memorial']\">\r\n                  <span class=\"icon icon__label-blue\"></span>\r\n                  <span class=\"text\" v-html=\"period.name\"></span>\r\n                  <span class=\"icon caret\"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"visible\">\r\n              <div class=\"label\" v-if=\"'memorial' === this.$route.meta.type\">\r\n                <span class=\"text\">{{ $ml.get('story.common.form.labels.visible') }}</span>\r\n                <span class=\"icon icon__info ask-icon\" @click=\"showTooltip('visible')\"></span>\r\n              </div>\r\n\r\n              <div class=\"dropdown-wrapper\" v-if=\"'memorial' === this.$route.meta.type\">\r\n                <div\r\n                    class=\"memorial-sidebar__switcher-wrapper memorial-sidebar__switcher-wrapper--indent\"\r\n                    @click.prevent.stop=\"isStoryVisible = !isStoryVisible\"\r\n                >\r\n                  <span v-if=\"isStoryVisible\">{{ $ml.get('editMemorial.sidebar.relatives.editBlock.story.show') }}</span>\r\n                  <span v-else>{{ $ml.get('editMemorial.sidebar.relatives.editBlock.story.hide') }}</span>\r\n\r\n                  <div :class=\"['memorial-sidebar__switcher-box', {'switch': !isStoryVisible}]\">\r\n                    <div class=\"memorial-sidebar__switcher-point\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <span class=\"dashboard-story__label\">{{ $ml.get('story.common.form.labels.content') }}</span>\r\n        </div>\r\n\r\n        <div class=\"dashboard-story__text\">\r\n          <div\r\n              class=\"story-form__description dashboard\"\r\n              contentEditable=\"true\"\r\n              :value=\"description\"\r\n              v-html=\"story.description\"\r\n              @input=\"setDescription\"\r\n          ></div>\r\n\r\n          <div class=\"story-form__media dashboard\">\r\n            <div class=\"upload__item\" v-for=\"content in contents\" :key=\"content.id\">\r\n              <span class=\"icon icon__close remove\" @click.prevent=\"removeMedia(content.type, content.id)\"></span>\r\n\r\n              <div class=\"link__card\" v-if=\"'link' === content.type && !checkIsYouTubeLink(content.link)\">\r\n                <img :src=\"content.previewImgLink\" alt=\"\">\r\n                <div class=\"link__input\">\r\n                  <span class=\"icon icon__link link-icon\"></span>\r\n                  <input readonly type=\"text\" :value=\"content.link\">\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"link__card\" v-else-if=\"'link' === content.type && checkIsYouTubeLink(content.link)\">\r\n                <div class=\"upload__item\">\r\n                  <iframe\r\n                      width=\"100%\" height=\"300px\"\r\n                      :src=\"`https://www.youtube.com/embed/${getVideoId(content.link)}`\"\r\n                      frameborder=\"0\"\r\n                      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                      allowfullscreen\r\n                  ></iframe>\r\n                </div>\r\n              </div>\r\n\r\n              <img :src=\"content.file.url\" v-else-if=\"null !== content.file &&'file' === content.type && 'image' === content.contentType\" />\r\n\r\n              <VideoPlayer\r\n                  v-else-if=\"null !== content.file &&'file' === content.type && 'video' === content.contentType && 'ready' === content.file.status\"\r\n                  :options=\"{\r\n                    autoplay: false,\r\n                    controls: true,\r\n                    sources: [\r\n                      {\r\n                        src: content.file.url,\r\n                      }\r\n                    ]\r\n                  }\"\r\n              />\r\n\r\n             <AudioPlayer\r\n                 v-else-if=\"null !== content.file &&'file' === content.type && 'audio' === content.contentType && 'ready' === content.file.status\"\r\n                 :sources=\"[{\r\n                   file: content.file.url,\r\n                   type: '',\r\n                 }]\"\r\n                 :classList=\"['create-story__audio']\"\r\n             />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"dashboard-story__footer\">\r\n        <Button\r\n            :classList=\"['btn', 'btn__second', 'btn-draft']\"\r\n            @clicked=\"saveAsDraft\"\r\n            :label=\"'memorial' === this.$route.meta.type ? $ml.get('dashboard.story.controls.cancel') : $ml.get('dashboard.story.controls.draft')\"\r\n        ></Button>\r\n\r\n        <Button\r\n            v-if=\"'memorial' === this.$route.meta.type\"\r\n            :classList=\"['btn', 'btn__primary', 'btn-publish']\"\r\n            @clicked=\"save\"\r\n            :label=\"$ml.get('dashboard.story.controls.save')\"\r\n        ></Button>\r\n\r\n        <Button\r\n            v-else\r\n            :classList=\"['btn', 'btn__primary', 'btn-publish']\"\r\n            @clicked=\"approve\"\r\n            :label=\"$ml.get('dashboard.story.controls.publish')\"\r\n        ></Button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapGetters} from \"vuex\";\r\n  import Button from '@/components/Button';\r\n  import AudioPlayer from '@/components/AudioPlayer';\r\n  import VideoPlayer from '@/components/VideoPlayer';\r\n  import PeriodModal from \"@/components/PeriodModal\";\r\n  import { isYouTubeLink, parseVideoId } from '@/utils/YouTubeHelper';\r\n  import Tooltip from \"@/components/Tooltip\";\r\n  import { EventBus } from '@/utils/EventBus.js';\r\n\r\n  export default {\r\n    name: \"Story\",\r\n    components: {\r\n      Button,\r\n      AudioPlayer,\r\n      VideoPlayer,\r\n      PeriodModal,\r\n      Tooltip,\r\n    },\r\n    props: {\r\n      storyId: {\r\n        type: [String, Number],\r\n        default: null,\r\n      },\r\n      editVersion: {\r\n        type: [String, Number],\r\n        default: null,\r\n      },\r\n      isVisible: {\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        isTooltipShow: false,\r\n        isShow: true,\r\n        showPeriodModal: false,\r\n        period: {},\r\n        isStoryVisible: false,\r\n        isOldStoryVisible: false,\r\n        oldPeriodId: null,\r\n        type: 'period',\r\n\r\n        description: '',\r\n        contents: [],\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters({\r\n        story: 'story/story',\r\n        memorial: 'dashboard/currentMemorial',\r\n        periods: 'period/getPeriods',\r\n      })\r\n    },\r\n    methods: {\r\n      setDescription(event) {\r\n        this.description = event.target.innerHTML.replace(/(<([^>]+)>)/gi, ' ');\r\n        if ('<br>' === event.target.innerHTML.trim()) {\r\n          event.target.innerHTML = '';\r\n          this.description = '';\r\n        }\r\n      },\r\n      removeMedia(type, id) {\r\n        const idx = this.contents.findIndex(item => type === item.type || item.id === id);\r\n        this.contents.splice(idx, 1);\r\n      },\r\n      showTooltip(type) {\r\n        if('dashboard' === this.$route.meta.type && 'period' === type) {\r\n          this.type = 'period1'\r\n        } else {\r\n          this.type = type;\r\n        }\r\n\r\n        this.isTooltipShow = true;\r\n      },\r\n      close() {\r\n        this.isShow = false;\r\n        this.$emit('close');\r\n      },\r\n      async save() {\r\n        const files = this.contents.filter(item => {\r\n          if('file' === item.type && null !== item.file) {\r\n            return item;\r\n          }\r\n        });\r\n\r\n        const links = this.contents.filter(item => {\r\n          if('link' === item.type) {\r\n            return item;\r\n          }\r\n        });\r\n\r\n        const payload = {\r\n          id: this.story.id,\r\n          data: {\r\n            editVersion: this.editVersion,\r\n            memorialPeriodId: this.period.id,\r\n            visible: this.isStoryVisible,\r\n            description: this.description,\r\n            files: files.map(item => {\r\n              return {\r\n                id: item.file.id,\r\n                contentType: item.contentType,\r\n                description: item.description,\r\n              };\r\n            }),\r\n            links: links.map(item => {\r\n              return {\r\n                link: item.link,\r\n                description: item.description,\r\n              };\r\n            }),\r\n          },\r\n        };\r\n\r\n        if('dashboard' === this.$route.meta.type) {\r\n          payload.data['approvalRequested'] = true;\r\n        }\r\n\r\n        const response = await this.$store.dispatch('story/update', payload);\r\n\r\n        if(response.status) {\r\n          if('memorial' === this.$route.meta.type) {\r\n            await this.$store.dispatch('story/updateEditStories', response.data);\r\n          } else {\r\n            const data = {\r\n              memorialId: this.memorial.id,\r\n              data: response.data\r\n            }\r\n            await this.$store.dispatch('dashboard/updateStories', data);\r\n          }\r\n\r\n          this.close();\r\n          return {\r\n            status: true,\r\n            data: response.data\r\n          };\r\n        } else {\r\n         alert(response.data.response.data.errorDescription);\r\n          return {\r\n            status: false,\r\n            data: response.data.response.data.errorDescription\r\n          };\r\n        }\r\n      },\r\n      async saveAsDraft() {\r\n        const status = await this.save();\r\n        if(status) {\r\n          this.close();\r\n        }\r\n      },\r\n      async approve() {\r\n        const saveResponse = await this.save();\r\n\r\n        if(saveResponse.status) {\r\n          const approveResponse = await this.$store.dispatch('story/approve', {id: saveResponse.data.id, editVersion: saveResponse.data.editVersion});\r\n\r\n          if(approveResponse.status) {\r\n            this.isShow = false;\r\n            EventBus.$emit('approve');\r\n            return true;\r\n          } else {\r\n            alert(saveResponse.data.errorDescription);\r\n            return false;\r\n          }\r\n        }\r\n      },\r\n      isStoryFieldExist(field) {\r\n        return null !== this.story[field] && typeof this.story[field] !== 'undefined';\r\n      },\r\n      openPeriodModal() {\r\n        this.showPeriodModal = true;\r\n      },\r\n      closePeriodModal() {\r\n        this.showPeriodModal = false;\r\n      },\r\n      setPeriod(period) {\r\n        this.period = period;\r\n      },\r\n      checkIsYouTubeLink(link) {\r\n        return isYouTubeLink(link);\r\n      },\r\n      getVideoId(link) {\r\n        return parseVideoId(link);\r\n      },\r\n    },\r\n    async mounted() {\r\n      await this.$store.dispatch('story/getStory', this.storyId);\r\n      if('undefined' === typeof this.story || 0 === Object.keys(this.story).length) {\r\n        this.close();\r\n      }\r\n\r\n      this.period = this.story.period;\r\n      this.isStoryVisible = this.isVisible;\r\n\r\n      await this.$store.dispatch('period/getPeriods',{id: this.memorial.id, withGeneral: true});\r\n\r\n      if(this.$refs['modal']) {\r\n        this.$refs['modal'].focus();\r\n      }\r\n\r\n      this.description = this.story.description;\r\n      this.contents = Object.assign([], this.story.content);\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"~@/assets/scss/components/story-form.scss\";\r\n  @import \"~@/assets/scss/components/dashboard-story.scss\";\r\n  @import \"~@/assets/scss/pages/create-story.scss\";\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Story.vue?vue&type=template&id=32ec1c07&scoped=true&\"\nimport script from \"./Story.vue?vue&type=script&lang=js&\"\nexport * from \"./Story.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Story.vue?vue&type=style&index=0&id=32ec1c07&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32ec1c07\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/whatsapp.5dd9d599.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=style&index=0&id=32ec1c07&scoped=true&lang=scss&\""],"sourceRoot":""}