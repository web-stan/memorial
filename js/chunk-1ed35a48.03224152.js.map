{"version":3,"sources":["webpack:///./src/utils/EventBus.js","webpack:///./src/assets/img/icon/blue-plus.svg","webpack:///./src/assets/img/icon/relative-placeholder.svg","webpack:///./src/assets/img/icon/welcome-screen-logo.svg","webpack:///./src/views/memorials/story/partials/Sidebar.vue?656a","webpack:///src/views/memorials/story/partials/Sidebar.vue","webpack:///./src/views/memorials/story/partials/Sidebar.vue?8363","webpack:///./src/views/memorials/story/partials/Sidebar.vue","webpack:///./src/views/memorials/story/partials/Sidebar.vue?0680"],"names":["EventBus","Vue","module","exports","render","_vm","this","_h","$createElement","_c","_self","class","step","staticClass","_v","_s","$ml","get","with","memorial","owner","user","name","style","profilePhoto","url","_f","birthDate","deathDate","_e","relativeUsers","count","_l","relative","key","id","status","length","attrs","relationToMemorialPerson","photos","staticRenderFns","props","type","Array","Object","default","String","data","relations","handler","immediate","computed","stories","map","photo","file","mounted","component"],"mappings":"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","file":"js/chunk-1ed35a48.03224152.js","sourcesContent":["import Vue from 'vue';\r\nexport const EventBus = new Vue();","module.exports = __webpack_public_path__ + \"img/blue-plus.1852870a.svg\";","module.exports = __webpack_public_path__ + \"img/relative-placeholder.911d5812.svg\";","module.exports = __webpack_public_path__ + \"img/welcome-screen-logo.c436be2b.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{class:['story__sidebar', _vm.step]},[_c('div',{staticClass:\"sidebar__label\"},[(_vm.step === 'share')?_c('span',[_vm._v(_vm._s(_vm.$ml.get('story.sidebar.share.label')))]):_c('span',[_vm._v(_vm._s(_vm.$ml.get('story.sidebar.label')))])]),_c('div',{staticClass:\"sidebar__description\"},[(_vm.step === 'share')?_c('span',[_vm._v(_vm._s(_vm.$ml.with('name', typeof _vm.memorial.owner !== 'undefined' && _vm.memorial.owner.user.name).get('story.sidebar.share.description')))]):_c('span',[_vm._v(_vm._s(_vm.$ml.get('story.sidebar.description')))])]),(_vm.step !== 'share')?_c('div',{staticClass:\"sidebar__user\",style:((\"backgroundImage: url('\" + ((typeof _vm.memorial.profilePhoto !== 'undefined' && null !== _vm.memorial.profilePhoto) ? _vm.memorial.profilePhoto.url : '') + \"')\"))},[_c('div',{staticClass:\"user\"},[_c('span',{staticClass:\"user__name\"},[_vm._v(_vm._s(_vm.memorial.name))]),_c('span',{staticClass:\"user__rip\"},[_vm._v(_vm._s(_vm.$ml.get('create.memorial.sidebar.rip')))]),_c('div',{staticClass:\"user__years\"},[_c('span',{staticClass:\"birth\"},[_vm._v(_vm._s(_vm._f(\"getYear\")(_vm.memorial.birthDate)))]),_vm._v(\" \"),_c('span',{staticClass:\"separator\"},[_vm._v(\"-\")]),_vm._v(\" \"),_c('span',{staticClass:\"death\"},[_vm._v(_vm._s(_vm._f(\"getYear\")(_vm.memorial.deathDate)))])])])]):_vm._e(),(_vm.step !== 'share' && _vm.relativeUsers.count > 0)?_c('div',{staticClass:\"sidebar__relatives\"},[_c('span',{staticClass:\"relatives__label\"},[_vm._v(\" \"+_vm._s(_vm.$ml.get('story.sidebar.relative'))+\" \")]),_c('div',{staticClass:\"relatives__items\"},[_vm._l((_vm.relativeUsers.data),function(relative){return _c('div',{key:relative.id,staticClass:\"relatives__item\"},[((typeof relative.profilePhoto !== 'undefined' && null !== relative.profilePhoto) && 'ready' === relative.profilePhoto.status && relative.profilePhoto.url.length > 0)?_c('img',{attrs:{\"src\":relative.profilePhoto.url,\"alt\":\"relative\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/img/icon/relative-placeholder.svg\"),\"alt\":\"\"}}),_c('div',{staticClass:\"relatives__name\"},[_c('span',[_vm._v(_vm._s(relative.name))]),_c('span',[_vm._v(_vm._s(relative.relationToMemorialPerson))])])])}),((_vm.relativeUsers.count - 4) >= 1)?_c('div',{staticClass:\"relatives__item count\"},[_vm._v(\" +\"),_c('span',[_vm._v(_vm._s(_vm.relativeUsers.count - 4))])]):_vm._e()],2)]):_vm._e(),(_vm.step === 'share')?_c('div',{staticClass:\"sidebar-photo\"},[(_vm.memorial.profilePhoto)?_c('img',{staticClass:\"sidebar-photo__item sidebar-photo__main\",attrs:{\"src\":_vm.memorial.profilePhoto.url,\"alt\":\"main\"}}):_vm._e(),(_vm.photos.length > 0 && null !== _vm.photos[0] && typeof _vm.photos[0] !== 'undefined' && _vm.photos[0].url)?_c('img',{staticClass:\"sidebar-photo__item sidebar-photo__first\",attrs:{\"src\":_vm.photos[0].url,\"alt\":\"first\"}}):_vm._e(),(_vm.photos.length > 1 && null !== _vm.photos[1] && typeof _vm.photos[1] !== 'undefined' && _vm.photos[1].url)?_c('img',{staticClass:\"sidebar-photo__item sidebar-photo__second\",attrs:{\"src\":_vm.photos[1].url,\"alt\":\"second\"}}):_vm._e(),(_vm.photos.length > 2 && null !== _vm.photos[2] && typeof _vm.photos[2] !== 'undefined' && _vm.photos[2].url)?_c('img',{staticClass:\"sidebar-photo__item sidebar-photo__third\",attrs:{\"src\":_vm.photos[2].url,\"alt\":\"third\"}}):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section :class=\"['story__sidebar', step]\">\r\n    <div class=\"sidebar__label\">\r\n      <span v-if=\"step === 'share'\">{{ $ml.get('story.sidebar.share.label') }}</span>\r\n      <span v-else>{{ $ml.get('story.sidebar.label') }}</span>\r\n    </div>\r\n    <div class=\"sidebar__description\">\r\n      <span v-if=\"step === 'share'\">{{ $ml.with('name', typeof memorial.owner !== 'undefined' && memorial.owner.user.name).get('story.sidebar.share.description') }}</span>\r\n      <span v-else>{{ $ml.get('story.sidebar.description') }}</span>\r\n    </div>\r\n\r\n    <div\r\n        v-if=\"step !== 'share'\"\r\n        class=\"sidebar__user\"\r\n        :style=\"`backgroundImage: url('${(typeof memorial.profilePhoto !== 'undefined' && null !== memorial.profilePhoto) ? memorial.profilePhoto.url : ''}')`\"\r\n    >\r\n\r\n      <div class=\"user\">\r\n        <span class=\"user__name\">{{ memorial.name }}</span>\r\n        <span class=\"user__rip\">{{ $ml.get('create.memorial.sidebar.rip') }}</span>\r\n\r\n        <div class=\"user__years\">\r\n          <span class=\"birth\">{{ memorial.birthDate | getYear }}</span> <span class=\"separator\">-</span> <span class=\"death\">{{ memorial.deathDate | getYear }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"sidebar__relatives\" v-if=\"step !== 'share' && relativeUsers.count > 0\">\r\n      <span class=\"relatives__label\">\r\n        {{ $ml.get('story.sidebar.relative') }}\r\n      </span>\r\n\r\n      <div class=\"relatives__items\">\r\n        <div\r\n            class=\"relatives__item\"\r\n            v-for=\"relative in relativeUsers.data\"\r\n            :key=\"relative.id\"\r\n        >\r\n          <img v-if=\"(typeof relative.profilePhoto !== 'undefined' && null !== relative.profilePhoto) && 'ready' === relative.profilePhoto.status && relative.profilePhoto.url.length > 0\" :src=\"relative.profilePhoto.url\" alt=\"relative\">\r\n          <img v-else src=\"~@/assets/img/icon/relative-placeholder.svg\" alt=\"\">\r\n\r\n          <div class=\"relatives__name\">\r\n            <span>{{ relative.name }}</span>\r\n            <span>{{ relative.relationToMemorialPerson }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"relatives__item count\" v-if=\"(relativeUsers.count - 4) >= 1\">\r\n          +<span>{{ relativeUsers.count - 4 }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"step === 'share'\" class=\"sidebar-photo\">\r\n      <img :src=\"memorial.profilePhoto.url\" v-if=\"memorial.profilePhoto\" alt=\"main\" class=\"sidebar-photo__item sidebar-photo__main\">\r\n\r\n      <img :src=\"photos[0].url\" alt=\"first\" class=\"sidebar-photo__item sidebar-photo__first\" v-if=\"photos.length > 0 && null !== photos[0] && typeof photos[0] !== 'undefined' && photos[0].url\">\r\n      <img :src=\"photos[1].url\" alt=\"second\" class=\"sidebar-photo__item sidebar-photo__second\" v-if=\"photos.length > 1 && null !== photos[1] && typeof photos[1] !== 'undefined' && photos[1].url\">\r\n      <img :src=\"photos[2].url\" alt=\"third\" class=\"sidebar-photo__item sidebar-photo__third\" v-if=\"photos.length > 2 && null !== photos[2] && typeof photos[2] !== 'undefined' && photos[2].url\">\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"StorySidebar\",\r\n  props: {\r\n    relativeUsers: {\r\n      type: [Array, Object],\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    step: {\r\n      type: String,\r\n      default: 'auth',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      relations: [],\r\n    };\r\n  },\r\n  '$ml.current': {\r\n    handler: function (value) {\r\n      this.relations = this.$ml.get('create.memorial.step1.form.relations');\r\n    },\r\n    immediate: true\r\n  },\r\n  computed: {\r\n    ...mapGetters('story', {\r\n      memorial: 'memorial',\r\n      stories: 'getStories'\r\n    }),\r\n    photos() {\r\n      if(this.stories) {\r\n        return this.stories.map(item => {\r\n          let photo = item.content.find(content => ('file' === content.type && 'image' === content.contentType));\r\n          if (typeof photo !== 'undefined') {\r\n            return photo.file;\r\n          }\r\n        });\r\n      }\r\n\r\n      return [];\r\n    },\r\n  },\r\n  mounted() {\r\n    this.relations = this.$ml.get('create.memorial.step1.form.relations');\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"~@/assets/scss/pages/create-story.scss\";\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=3f59898c&scoped=true&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=3f59898c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f59898c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=3f59898c&scoped=true&lang=scss&\""],"sourceRoot":""}